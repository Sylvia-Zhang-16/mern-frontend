{"version":3,"sources":["shared/hooks/auth-hook.js","shared/components/UIElements/Avatar.js","shared/components/UIElements/Card.js","user/components/UsersItem.js","user/components/UsersList.js","shared/components/UIElements/Backdrop.js","shared/components/UIElements/Modal.js","shared/components/FormElements/Button.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/LoadingSpinner.js","shared/hooks/http-hook.js","user/pages/Users.js","shared/util/validators.js","shared/components/FormElements/Input.js","shared/components/FormElements/ImageUpload.js","shared/hooks/form-hook.js","shared/context/auth-context.js","activities/pages/NewActivity.js","shared/components/Navigation/MainHeader.js","shared/components/Navigation/NavLinks.js","shared/components/Navigation/SideDrawer.js","shared/components/Navigation/MainNavigation.js","shared/components/UIElements/Map.js","activities/components/ActivityItem.js","activities/components/ActivityList.js","activities/pages/UserActivity.js","activities/pages/UpdateActivity.js","user/pages/Auth.js","App.js","reportWebVitals.js","index.js"],"names":["logoutTimer","Avatar","props","_jsx","className","concat","style","children","src","image","alt","width","height","Card","UsersItem","_jsxs","Link","to","id","process","name","count","UsersList","items","length","map","user","activities","Backdrop","ReactDOM","createPortal","onClick","document","getElementById","ModalOverlay","content","headerClass","header","onSubmit","event","preventDefault","contentClass","footerClass","footer","Modal","React","Fragment","show","onCancel","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","_objectSpread","Button","href","size","inverse","danger","exact","type","disabled","ErrorModal","onClear","error","LoadingSpinner","asOverlay","useHttpClient","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","setError","activeHttpRequests","useRef","sendRequest","useCallback","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","method","body","headers","httpAbortCtrl","response","responseData","_args","arguments","wrap","_context","prev","next","undefined","AbortController","current","push","fetch","signal","sent","json","filter","reqCtrl","ok","Error","message","abrupt","t0","stop","_x","apply","useEffect","forEach","abortCtrl","abort","clearError","Users","_useHttpClient","loadedUsers","setLoadedUsers","fetchUsers","users","_Fragment","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_REQUIRE","VALIDATOR_MINLENGTH","val","validate","value","validators","_step","isValid","_iterator","_createForOfIteratorHelper","s","n","done","validator","trim","test","err","e","f","inputReducer","state","action","isTouched","Input","_useReducer","useReducer","initialValue","initialValid","_useReducer2","inputState","dispatch","onInput","changeHandler","target","touchHandler","element","placeholder","onChange","onBlur","rows","htmlFor","label","errorText","ImageUpload","file","setFile","previewUrl","setPreviewUrl","_useState5","_useState6","setIsValid","filePickerRef","fileReader","FileReader","onload","result","readAsDataURL","ref","display","accept","pickedFile","fileIsValid","files","center","click","formReducer","formIsValid","inputId","inputs","_defineProperty","useForm","initialInputs","initialFormValidity","formState","inputData","formValidity","AuthContext","createContext","isLoggedIn","userId","token","login","logout","NewActivity","auth","useContext","_useForm","title","description","address","_useForm2","inputHandler","history","useHistory","activitySubmitHandler","formData","FormData","append","Authorization","console","log","MainHeader","NavLinks","NavLink","SideDrawer","ReactDom","MainNavigation","drawerIsOpen","setDrawerIsOpen","closeDrawerHandler","Map","mapRef","zoom","window","google","maps","Marker","position","ActivityItem","showMap","setShowMap","showConfirmModal","setShowConfirmModal","closeMapHandler","cancelDeleteHandler","confirmDeleteHandler","onDelete","coordinates","creatorId","ActivityList","place","creator","location","onDeleteActivity","UserActivity","loadedActivities","setLoadedActivities","useParams","fetchActivities","reponseData","onDeletedActivity","deletedActivityId","prevActivities","activity","UpdateActivity","activityId","setFormData","fetchActivity","activityUpdateSubmitHandler","_ref2","_callee2","_context2","JSON","stringify","Auth","isLoginMode","setIsLoginMode","email","password","authSubmitHandler","_responseData","t1","prevMode","App","routes","_useAuth","setToken","setUserId","tokenExpiration","setTokenExpiration","uid","expirationDate","tokenExpirationDate","Date","getTime","localStorage","setItem","expiration","toISOString","removeItem","remainingTime","setTimeout","clearTimeout","storedData","parse","getItem","useAuth","Switch","Route","path","Newactivity","Redirect","Provider","Router","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode"],"mappings":"wfAGIA,E,uGCaWC,EAZA,SAAAC,GACb,OACEC,cAAA,OAAKC,UAAS,UAAAC,OAAYH,EAAME,WAAaE,MAAOJ,EAAMI,MAAMC,SAC9DJ,cAAA,OACEK,IAAKN,EAAMO,MACXC,IAAKR,EAAMQ,IACXJ,MAAO,CAAEK,MAAOT,EAAMS,MAAOC,OAAQV,EAAMS,UAInD,ECFeE,G,MARF,SAAAX,GACX,OACEC,cAAA,OAAKC,UAAS,QAAAC,OAAUH,EAAME,WAAaE,MAAOJ,EAAMI,MAAMC,SAC3DL,EAAMK,UAGb,GCoBeO,EAvBG,SAAAZ,GACd,OACEC,cAAA,MAAIC,UAAU,YAAWG,SACvBJ,cAACU,EAAI,CAACT,UAAU,gCAA+BG,SAC7CQ,eAACC,IAAI,CAACC,GAAE,IAAAZ,OAAMH,EAAMgB,GAAE,eAAcX,SAAA,CAClCJ,cAAA,OAAKC,UAAU,mBAAkBG,SAC/BJ,cAACF,EAAM,CAACQ,MAAOU,wBAA+B,IAAAd,OAAOH,EAAMO,OAASC,IAAKR,EAAMkB,SAEjFL,eAAA,OAAKX,UAAU,kBAAiBG,SAAA,CAC9BJ,cAAA,MAAAI,SAAKL,EAAMkB,OACXL,eAAA,MAAAR,SAAA,CACGL,EAAMmB,MAAM,IAAkB,IAAhBnB,EAAMmB,MAAc,WAAa,yBAUhE,ECOeC,EA7BG,SAAApB,GACd,OAA0B,IAAvBA,EAAMqB,MAAMC,OAEPrB,cAAA,OAAKC,UAAU,SAAQG,SACnBJ,cAACU,EAAI,CAAAN,SACDJ,cAAA,MAAAI,SAAI,wBAQpBJ,cAAA,MAAIC,UAAU,aAAYG,SACrBL,EAAMqB,MAAME,KAAI,SAAAC,GAAI,OACjBvB,cAACW,EAAS,CAENI,GAAIQ,EAAKR,GACTT,MAAOiB,EAAKjB,MACZW,KAAMM,EAAKN,KACXC,MAAOK,EAAKC,WAAWH,QAJlBE,EAAKR,GAKZ,KAMd,E,eCrBeU,G,MAPE,SAAA1B,GACf,OAAO2B,IAASC,aACd3B,cAAA,OAAKC,UAAU,WAAW2B,QAAS7B,EAAM6B,UACzCC,SAASC,eAAe,iBAE5B,GCHMC,G,MAAe,SAAAhC,GACjB,IAAMiC,EACFpB,eAAA,OAAKX,UAAS,SAAAC,OAAWH,EAAME,WAAaE,MAAOJ,EAAMI,MAAMC,SAAA,CAC3DJ,cAAA,UAAQC,UAAS,iBAAAC,OAAmBH,EAAMkC,aAAc7B,SACpDJ,cAAA,MAAAI,SAAKL,EAAMmC,WAEftB,eAAA,QAAMuB,SAAUpC,EAAMoC,SAAWpC,EAAMoC,SAAW,SAACC,GAAK,OAAKA,EAAMC,gBAAgB,EAACjC,SAAA,CAChFJ,cAAA,OAAKC,UAAS,kBAAAC,OAAoBH,EAAMuC,cAAelC,SAClDL,EAAMK,WAEXJ,cAAA,UAAQC,UAAS,iBAAAC,OAAmBH,EAAMwC,aAAcnC,SACnDL,EAAMyC,eAOvB,OAAOd,IAASC,aAAaK,EAASH,SAASC,eAAe,cAClE,GAeeW,EAbD,SAAA1C,GACV,OACIa,eAAC8B,IAAMC,SAAQ,CAAAvC,SAAA,CACVL,EAAM6C,MAAQ5C,cAACyB,EAAQ,CAACG,QAAS7B,EAAM8C,WACxC7C,cAAC8C,IAAa,CAACC,GAAIhD,EAAM6C,KAAMI,cAAY,EAACC,eAAa,EAACC,QAAS,IAAKC,WAAW,QAAO/C,SACtFJ,cAAC+B,EAAYqB,YAAA,GAAKrD,QAMlC,ECGesD,G,MArCA,SAAAtD,GACb,OAAIA,EAAMuD,KAENtD,cAAA,KACEC,UAAS,kBAAAC,OAAoBH,EAAMwD,MAAQ,UAAS,KAAArD,OAAIH,EAAMyD,SAC5D,kBAAiB,KAAAtD,OAAIH,EAAM0D,QAAU,kBACvCH,KAAMvD,EAAMuD,KAAKlD,SAEhBL,EAAMK,WAITL,EAAMe,GAENd,cAACa,IAAI,CACHC,GAAIf,EAAMe,GACV4C,MAAO3D,EAAM2D,MACbzD,UAAS,kBAAAC,OAAoBH,EAAMwD,MAAQ,UAAS,KAAArD,OAAIH,EAAMyD,SAC5D,kBAAiB,KAAAtD,OAAIH,EAAM0D,QAAU,kBAAmBrD,SAEzDL,EAAMK,WAKXJ,cAAA,UACEC,UAAS,kBAAAC,OAAoBH,EAAMwD,MAAQ,UAAS,KAAArD,OAAIH,EAAMyD,SAC5D,kBAAiB,KAAAtD,OAAIH,EAAM0D,QAAU,kBACvCE,KAAM5D,EAAM4D,KACZ/B,QAAS7B,EAAM6B,QACfgC,SAAU7D,EAAM6D,SAASxD,SAExBL,EAAMK,UAGb,GCtBeyD,EAbI,SAAA9D,GACjB,OACEC,cAACyC,EAAK,CACJI,SAAU9C,EAAM+D,QAChB5B,OAAO,qBACPU,OAAQ7C,EAAMgE,MACdvB,OAAQxC,cAACqD,EAAM,CAACzB,QAAS7B,EAAM+D,QAAQ1D,SAAC,SAAcA,SAEtDJ,cAAA,KAAAI,SAAIL,EAAMgE,SAGhB,ECJeC,G,MARQ,SAAAjE,GACrB,OACEC,cAAA,OAAKC,UAAS,GAAAC,OAAKH,EAAMkE,WAAa,4BAA6B7D,SACjEJ,cAAA,OAAKC,UAAU,mBAGrB,GCRaiE,EAAgB,WAC3B,IAAAC,EAAkCC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAA1CI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAC9BI,EAA0BL,qBAAUM,EAAAJ,YAAAG,EAAA,GAA7BV,EAAKW,EAAA,GAAEC,EAAQD,EAAA,GAEhBE,EAAqBC,iBAAO,IAE5BC,EAAcC,sBAAW,eAAAC,EAAAC,YAAAC,cAAAC,MAC7B,SAAAC,EAAOC,GAAG,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,UAAA,OAAAX,cAAAY,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGuC,OAHrCX,EAAMM,EAAAvE,OAAA,QAAA6E,IAAAN,EAAA,GAAAA,EAAA,GAAG,MAAOL,EAAIK,EAAAvE,OAAA,QAAA6E,IAAAN,EAAA,GAAAA,EAAA,GAAG,KAAMJ,EAAOI,EAAAvE,OAAA,QAAA6E,IAAAN,EAAA,GAAAA,EAAA,GAAG,CAAC,EAClDpB,GAAa,GACPiB,EAAgB,IAAIU,gBAC1BvB,EAAmBwB,QAAQC,KAAKZ,GAAeM,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGtBK,MAAMjB,EAAK,CAChCC,SACAC,OACAC,UACAe,OAAQd,EAAcc,SACrB,KAAD,EALY,OAARb,EAAQK,EAAAS,KAAAT,EAAAE,KAAA,GAOaP,EAASe,OAAO,KAAD,GAIxC,GAJId,EAAYI,EAAAS,KAElB5B,EAAmBwB,QAAUxB,EAAmBwB,QAAQM,QACtD,SAAAC,GAAO,OAAIA,IAAYlB,CAAa,IAGjCC,EAASkB,GAAG,CAADb,EAAAE,KAAA,eACR,IAAIY,MAAMlB,EAAamB,SAAS,KAAD,GAGnB,OAApBtC,GAAa,GAAOuB,EAAAgB,OAAA,SACbpB,GAAY,QAGC,MAHDI,EAAAC,KAAA,GAAAD,EAAAiB,GAAAjB,EAAA,SAEnBpB,EAASoB,EAAAiB,GAAIF,SACbtC,GAAa,GAAOuB,EAAAiB,GAAA,yBAAAjB,EAAAkB,OAAA,GAAA7B,EAAA,mBAGvB,gBAAA8B,GAAA,OAAAlC,EAAAmC,MAAA,KAAAtB,UAAA,EA/B4B,GAgC7B,IAcF,OAPAuB,qBAAU,WACR,OAAO,WAELxC,EAAmBwB,QAAQiB,SAAQ,SAAAC,GAAS,OAAIA,EAAUC,OAAO,GACnE,CACF,GAAG,IAEI,CAAEhD,YAAWR,QAAOe,cAAa0C,WAXrB,WACjB7C,EAAS,KACX,EAUF,ECde8C,EAnCD,WAEV,IAAAC,EAAqDxD,IAA7CK,EAASmD,EAATnD,UAAWR,EAAK2D,EAAL3D,MAAOe,EAAW4C,EAAX5C,YAAa0C,EAAUE,EAAVF,WAEvCrD,EAAsCC,qBAAUC,EAAAC,YAAAH,EAAA,GAAzCwD,EAAWtD,EAAA,GAAEuD,EAAcvD,EAAA,GAmBlC,OAjBA+C,qBAAU,WACN,IAAMS,EAAU,eAAA7C,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,IAAA,IAAAO,EAAA,OAAAT,cAAAY,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEgBnB,EAAY9D,mCAA8C,KAAD,EAA9E2E,EAAYI,EAAAS,KAElBoB,EAAejC,EAAamC,OAAO/B,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAiB,GAAAjB,EAAA,gBAGrC,yBAAAA,EAAAkB,OAAA,GAAA7B,EAAA,kBAEL,kBATe,OAAAJ,EAAAmC,MAAA,KAAAtB,UAAA,KAWhBgC,GAEJ,GAAG,CAAC/C,IAIAlE,eAAAmH,WAAA,CAAA3H,SAAA,CAAEJ,cAAC6D,EAAU,CAACE,MAAOA,EAAOD,QAAS0D,IACpCjD,GACDvE,cAAA,OAAKC,UAAU,SAAQG,SACnBJ,cAACgE,EAAc,OAGhBO,GAAaoD,GAAe3H,cAACmB,EAAS,CAACC,MAAOuG,MAGzD,E,wBCvCMK,EAAyB,UACzBC,EAA2B,YAC3BC,EAA2B,YAG3BC,EAAuB,QAGhBC,EAAoB,WAAH,MAAU,CAAEzE,KAAMqE,EAAwB,EAE3DK,EAAsB,SAAAC,GAAG,MAAK,CACzC3E,KAAMsE,EACNK,IAAKA,EACN,EASYC,EAAW,SAACC,EAAOC,GAC9B,IACkCC,EAD9BC,GAAU,EAAKC,EAAAC,YACKJ,GAAU,IAAlC,IAAAG,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAAoC,CAAC,IAA1BC,EAASP,EAAAF,MACdS,EAAUtF,OAASqE,IACrBW,EAAUA,GAAWH,EAAMU,OAAO7H,OAAS,GAEzC4H,EAAUtF,OAASsE,IACrBU,EAAUA,GAAWH,EAAMU,OAAO7H,QAAU4H,EAAUX,KAEpDW,EAAUtF,OAASuE,IACrBS,EAAUA,GAAWH,EAAMU,OAAO7H,QAAU4H,EAAUX,KA7BjC,QA+BnBW,EAAUtF,OACZgF,EAAUA,IAAYH,GAASS,EAAUX,KA/BpB,QAiCnBW,EAAUtF,OACZgF,EAAUA,IAAYH,GAASS,EAAUX,KAEvCW,EAAUtF,OAASwE,IACrBQ,EAAUA,GAAW,iBAAiBQ,KAAKX,GAE/C,CAAC,OAAAY,GAAAR,EAAAS,EAAAD,EAAA,SAAAR,EAAAU,GAAA,CACD,OAAOX,CACT,ECxCMY,G,MAAe,SAACC,EAAOC,GACzB,OAAOA,EAAO9F,MACV,IAAK,SACD,OAAAP,wBAAA,GACOoG,GAAK,IACRhB,MAAMiB,EAAOnB,IACbK,QAASJ,EAASkB,EAAOnB,IAAKmB,EAAOhB,cAE7C,IAAK,QACD,OAAArF,wBAAA,GACOoG,GAAK,IACRE,WAAW,IAGnB,QACI,OAAOF,EAEnB,GAuDeG,EApDD,SAAA5J,GACV,IAAA6J,EAA+BC,qBAAWN,EAAc,CACpDf,MAAMzI,EAAM+J,cAAgB,GAC5BnB,QAAQ5I,EAAMgK,eAAgB,EAC9BL,WAAU,IAAOM,EAAA1F,YAAAsF,EAAA,GAHdK,EAAUD,EAAA,GAAEE,EAAQF,EAAA,GAMpBjJ,EAAgBhB,EAAhBgB,GAAIoJ,EAAYpK,EAAZoK,QACJ3B,EAAmByB,EAAnBzB,MAAOG,EAAYsB,EAAZtB,QAEdvB,qBAAU,WACN+C,EAAQpJ,EAAIyH,EAAOG,EACvB,GAAE,CAAC5H,EAAIyH,EAAOG,EAASwB,IAEvB,IAAMC,EAAgB,SAAAhI,GAClB8H,EAAS,CAACvG,KAAK,SAAU2E,IAAIlG,EAAMiI,OAAO7B,MAAOC,WAAW1I,EAAM0I,YAEtE,EAEM6B,EAAe,WACjBJ,EAAS,CAACvG,KAAK,SAEnB,EAGM4G,EAA4B,UAAlBxK,EAAMwK,QAClBvK,cAAA,SACAe,GAAIhB,EAAMgB,GACV4C,KAAM5D,EAAM4D,KACZ6G,YAAazK,EAAMyK,YACnBC,SAAUL,EACVM,OAAQJ,EACR9B,MAAOyB,EAAWzB,QAElBxI,cAAA,YACAe,GAAIhB,EAAMgB,GACV4J,KAAM5K,EAAM4K,MAAQ,EACpBF,SAAUL,EACVM,OAAQJ,EACR9B,MAAOyB,EAAWzB,QAGtB,OACI5H,eAAA,OAAKX,UAAS,gBAAAC,QAAmB+J,EAAWtB,SAAWsB,EAAWP,WAAa,yBAA0BtJ,SAAA,CACvGJ,cAAA,SAAO4K,QAAS7K,EAAMgB,GAAGX,SAAEL,EAAM8K,QAChCN,GACCN,EAAWtB,SAAWsB,EAAWP,WAAa1J,cAAA,KAAAI,SAAIL,EAAM+K,cAIpE,ECNeC,G,MAhEK,SAAAhL,GAEhB,IAAAoE,EAAwBC,qBAAUC,EAAAC,YAAAH,EAAA,GAA3B6G,EAAI3G,EAAA,GAAE4G,EAAO5G,EAAA,GACpBI,EAAoCL,qBAAUM,EAAAJ,YAAAG,EAAA,GAAvCyG,EAAUxG,EAAA,GAAEyG,EAAazG,EAAA,GAChC0G,EAA8BhH,oBAAS,GAAMiH,EAAA/G,YAAA8G,EAAA,GAAtCzC,EAAO0C,EAAA,GAAEC,EAAUD,EAAA,GAEpBE,EAAgB1G,mBAEtBuC,qBAAU,WACN,GAAK4D,EAAL,CAGA,IAAMQ,EAAa,IAAIC,WACvBD,EAAWE,OAAS,WAClBP,EAAcK,EAAWG,OAC3B,EACAH,EAAWI,cAAcZ,EALzB,CAMF,GAAG,CAACA,IAuBN,OACIpK,eAAA,OAAKX,UAAU,eAAcG,SAAA,CAC/BJ,cAAA,SACEe,GAAIhB,EAAMgB,GACV8K,IAAKN,EACLpL,MAAO,CAAE2L,QAAS,QAClBnI,KAAK,OACLoI,OAAO,kBACPtB,SA7BkB,SAAArI,GAClB,IAAI4J,EACAC,EAActD,EAEdvG,EAAMiI,OAAO6B,OAAuC,IAA9B9J,EAAMiI,OAAO6B,MAAM7K,QACzC2K,EAAa5J,EAAMiI,OAAO6B,MAAM,GAChCjB,EAAQe,GACRV,GAAW,GACXW,GAAc,IAEdX,GAAW,GACXW,GAAc,GAElBlM,EAAMoK,QAAQpK,EAAMgB,GAAIiL,EAAYC,EAC1C,IAiBIrL,eAAA,OAAKX,UAAS,gBAAAC,OAAkBH,EAAMoM,QAAU,UAAW/L,SAAA,CACzDQ,eAAA,OAAKX,UAAU,wBAAuBG,SAAA,CACnC8K,GAAclL,cAAA,OAAKK,IAAK6K,EAAY3K,IAAI,aACvC2K,GAAclL,cAAA,KAAAI,SAAG,6BAErBJ,cAACqD,EAAM,CAACM,KAAK,SAAS/B,QApBD,WACzB2J,EAAcnF,QAAQgG,OACxB,EAkBsDhM,SAAC,mBAEjDuI,GAAW3I,cAAA,KAAAI,SAAIL,EAAM+K,cAK7B,G,QCjEMuB,EAAc,SAAC7C,EAAOC,GACxB,OAAQA,EAAO9F,MACb,IAAK,eACH,IAAI2I,GAAc,EAClB,IAAK,IAAMC,KAAW/C,EAAMgD,OACrBhD,EAAMgD,OAAOD,KAIhBD,EADEC,IAAY9C,EAAO8C,QACPD,GAAe7C,EAAOd,QAEtB2D,GAAe9C,EAAMgD,OAAOD,GAAS5D,SAGvD,OAAAvF,wBAAA,GACKoG,GAAK,IACRgD,OAAMpJ,wBAAA,GACDoG,EAAMgD,QAAM,GAAAC,YAAA,GACdhD,EAAO8C,QAAU,CAAE/D,MAAOiB,EAAOjB,MAAOG,QAASc,EAAOd,WAE3DA,QAAS2D,IAEX,IAAK,WACD,MAAO,CACLE,OAAQ/C,EAAO+C,OACf7D,QAASc,EAAO6C,aAExB,QACE,OAAO9C,EAEb,EAIWkD,EAAU,SAACC,EAAeC,GACnC,IAAAhD,EAA8BC,qBAAWwC,EAAa,CAClDG,OAAQG,EACRhE,QAASiE,IACT5C,EAAA1F,YAAAsF,EAAA,GAHGiD,EAAS7C,EAAA,GAAEE,EAAQF,EAAA,GAsBxB,MAAO,CAAC6C,EAjBW9H,uBAAY,SAAChE,EAAIyH,EAAOG,GACzCuB,EAAS,CACPvG,KAAM,eACN6E,MAAOA,EACPG,QAASA,EACT4D,QAASxL,GAEb,GAAG,IAEiBgE,uBAAY,SAAC+H,EAAWC,GAC1C7C,EAAS,CACLvG,KAAM,WACN6I,OAAQM,EACRR,YAAaS,GAEnB,GAAG,IAIT,EC3DaC,EAAcC,wBAAc,CACzCC,YAAY,EACRC,OAAQ,KACRC,MAAO,KACPC,MAAO,WAAO,EACdC,OAAQ,WAAO,IC+FJC,EArFK,WAClB,IAAA7F,EAAqDxD,IAA7CK,EAASmD,EAATnD,UAAWR,EAAK2D,EAAL3D,MAAOe,EAAW4C,EAAX5C,YAAa0C,EAAUE,EAAVF,WAEjCgG,EAAOC,qBAAWT,GAExBU,EAAkChB,EAC9B,CACEiB,MAAO,CACLnF,MAAO,GACPG,SAAS,GAEXiF,YAAa,CACXpF,MAAO,GACPG,SAAS,GAEXkF,QAAS,CACPrF,MAAO,GACPG,SAAS,GAEXrI,MAAO,CACLkI,MAAO,KACPG,SAAS,KAGb,GACDmF,EAAAxJ,YAAAoJ,EAAA,GApBIb,EAASiB,EAAA,GAAEC,EAAYD,EAAA,GAqBvBE,EAAUC,uBAETC,EAAqB,eAAAlJ,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,EAAMhD,GAAK,IAAA+L,EAAA,OAAAjJ,cAAAY,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAQsB,OAP7D7D,EAAMC,iBAAiB0D,EAAAC,KAAA,GAGbmI,EAAW,IAAIC,UACVC,OAAO,QAASxB,EAAUL,OAAOmB,MAAMnF,OAChD2F,EAASE,OAAO,cAAexB,EAAUL,OAAOoB,YAAYpF,OAC5D2F,EAASE,OAAO,UAAWxB,EAAUL,OAAOqB,QAAQrF,OACpD2F,EAASE,OAAO,QAASxB,EAAUL,OAAOlM,MAAMkI,OAAOzC,EAAAE,KAAA,EACnDnB,EAAY9D,uCAClB,OACAmN,EACA,CAACG,cAAe,UAAYd,EAAKJ,QAC/B,KAAD,EACLY,EAAQ3H,KAAK,KAAKN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAiB,GAAAjB,EAAA,iBAEJ,yBAAAA,EAAAkB,OAAA,GAAA7B,EAAA,mBACf,gBAjB0B8B,GAAA,OAAAlC,EAAAmC,MAAA,KAAAtB,UAAA,KAuB3B,OACEjF,eAAAmH,WAAA,CAAA3H,SAAA,CAAEJ,cAAC6D,EAAU,CAACE,MAAOA,EAAOD,QAAS0D,IACrC5G,eAAA,QAAMX,UAAU,aAAakC,SAAU+L,EAAsB9N,SAAA,CAC5DmE,GAAavE,cAACgE,EAAc,CAACC,WAAS,IACrCjE,cAAC2J,EAAK,CACJ5I,GAAG,QACHwJ,QAAQ,QACR5G,KAAK,OACLkH,MAAM,QACNpC,WAAY,CAACL,KACb0C,UAAU,8BACVX,QAAS4D,IACX/N,cAAC2J,EAAK,CACJ5I,GAAG,cACHwJ,QAAQ,WACRM,MAAM,cACNpC,WAAY,CAACJ,EAAoB,IACjCyC,UAAU,4DACVX,QAAS4D,IACX/N,cAAC2J,EAAK,CACJ5I,GAAG,UACHwJ,QAAQ,QACRM,MAAM,UACNpC,WAAY,CAACL,KACb0C,UAAU,gCACVX,QAAS4D,IACV/N,cAAC+K,EAAW,CAACoB,QAAM,EAACpL,GAAG,QAAQoJ,QAAS4D,EAAcjD,UAAU,6BACjE9K,cAACqD,EAAM,CAACM,KAAK,SAAS/B,QA/BZ,WACZ2M,QAAQC,IAAIhB,EAAKL,OACnB,EA6B4CvJ,UAAWiJ,EAAUlE,QAAQvI,SAAC,sBAK5E,ECxFaqO,G,MARI,SAAA1O,GACf,OACIC,cAAA,UAAQC,UAAU,cAAaG,SAC9BL,EAAMK,UAGf,GCoBesO,G,MAxBE,SAAA3O,GACb,IAAMyN,EAAOC,qBAAWT,GAExB,OAAOpM,eAAA,MAAIX,UAAU,YAAWG,SAAA,CAC5BJ,cAAA,MAAAI,SACIJ,cAAC2O,IAAO,CAAC7N,GAAG,IAAI4C,OAAK,EAAAtD,SAAC,gBAEzBoN,EAAKN,YAAclN,cAAA,MAAAI,SAChBJ,cAAC2O,IAAO,CAAC7N,GAAE,IAAAZ,OAAMsN,EAAKL,OAAM,eAAc/M,SAAE,oBAE/CoN,EAAKN,YAAclN,cAAA,MAAAI,SAChBJ,cAAC2O,IAAO,CAAC7N,GAAG,kBAAiBV,SAAC,oBAEhCoN,EAAKN,YAAclN,cAAA,MAAAI,SACjBJ,cAAC2O,IAAO,CAAC7N,GAAG,QAAOV,SAAC,mBAEvBoN,EAAKN,YACNlN,cAAA,MAAAI,SACIJ,cAAA,UAAQ4B,QAAS4L,EAAKF,OAAOlN,SAAC,eAI1C,GCZewO,G,MAVI,SAAA7O,GACf,IAAMiC,EACNhC,cAAC8C,IAAa,CAACC,GAAIhD,EAAM6C,KAAMM,QAAS,IAAKC,WAAW,gBAAgBH,cAAY,EAACC,eAAa,EAAA7C,SAC9FJ,cAAA,SAAOC,UAAU,cAAc2B,QAAS7B,EAAM6B,QAAQxB,SAAEL,EAAMK,aAGlE,OAAOyO,IAASlN,aAAaK,EAASH,SAASC,eAAe,eAElE,GCgCegN,G,MApCQ,SAAA/O,GACnB,IAAAoE,EAAwCC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAhD4K,EAAY1K,EAAA,GAAE2K,EAAe3K,EAAA,GAM9B4K,EAAqB,WACvBD,GAAgB,EACpB,EAEA,OACIpO,eAAAmH,WAAA,CAAA3H,SAAA,CACC2O,GAAgB/O,cAACyB,EAAQ,CAACG,QAASqN,IAChCjP,cAAC4O,EAAU,CAAChM,KAAMmM,EAAcnN,QAASqN,EAAmB7O,SACxDJ,cAAA,OAAKC,UAAU,8BAA6BG,SACxCJ,cAAC0O,EAAQ,QAGrB9N,eAAC6N,EAAU,CAAArO,SAAA,CACHQ,eAAA,UAAQX,UAAU,4BAA4B2B,QAjBhC,WACtBoN,GAAgB,EACpB,EAeqF5O,SAAA,CACrEJ,cAAA,WACAA,cAAA,WACAA,cAAA,cAEJA,cAAA,MAAIC,UAAU,yBAAwBG,SAClCJ,cAACa,IAAI,CAACC,GAAG,IAAGV,SAAC,sBAEjBJ,cAAA,OAAKC,UAAU,8BAA6BG,SACxCJ,cAAC0O,EAAQ,WAK7B,GCjBeQ,G,YAvBH,SAAAnP,GACV,IAAMoP,EAAStK,mBAEPsH,EAAiBpM,EAAjBoM,OAAQiD,EAASrP,EAATqP,KAWhB,OATAhI,qBAAU,WACR,IAAM9F,EAAM,IAAI+N,OAAOC,OAAOC,KAAKL,IAAIC,EAAO/I,QAAS,CACrD+F,OAAQA,EACRiD,KAAMA,IAGR,IAAIC,OAAOC,OAAOC,KAAKC,OAAO,CAAEC,SAAUtD,EAAQ7K,IAAKA,GACzD,GAAG,CAAC6K,EAAQiD,IAGVpP,cAAA,OACE6L,IAAKsD,EACLlP,UAAS,OAAAC,OAASH,EAAME,WACxBE,MAAOJ,EAAMI,OAGnB,GCgFeuP,EA5FM,SAAA3P,GACnB,IAAMyN,EAAOC,qBAAWT,GACxBtF,EAAqDxD,IAA7CK,EAASmD,EAATnD,UAAWR,EAAK2D,EAAL3D,MAAOe,EAAW4C,EAAX5C,YAAa0C,EAAUE,EAAVF,WACvCrD,EAA8BC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAtCwL,EAAOtL,EAAA,GAAEuL,EAAUvL,EAAA,GAC1BI,EAAgDL,oBAAS,GAAMM,EAAAJ,YAAAG,EAAA,GAAxDoL,EAAgBnL,EAAA,GAAEoL,EAAmBpL,EAAA,GAGtCqL,EAAkB,WAAH,OAASH,GAAW,EAAO,EAM1CI,EAAsB,WACtBF,GAAoB,EACtB,EAEIG,EAAoB,eAAAjL,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,IAAA,OAAAF,cAAAY,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACE,OAA3B6J,GAAoB,GAAO/J,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEnBnB,EAAY9D,4BAAiC,eAAAd,OAAiBH,EAAMgB,IAC1E,SACA,KACA,CAACuN,cAAe,UAAYd,EAAKJ,QAC/B,KAAD,EACDrN,EAAMmQ,SAASnQ,EAAMgB,IAAIgF,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAiB,GAAAjB,EAAA,gBAEZ,yBAAAA,EAAAkB,OAAA,GAAA7B,EAAA,kBAElB,kBAZyB,OAAAJ,EAAAmC,MAAA,KAAAtB,UAAA,KAe1B,OACIjF,eAAAmH,WAAA,CAAA3H,SAAA,CACAJ,cAAC6D,EAAU,CAACE,MAAOA,EAAOD,QAAS0D,IACnCxH,cAACyC,EAAK,CACNG,KAAM+M,EACN9M,SAAUkN,EACV7N,OAAQnC,EAAM8N,QACdvL,aAAa,4BACbC,YAAY,4BACZC,OAAQxC,cAACqD,EAAM,CAACzB,QAASmO,EAAgB3P,SAAC,UAAeA,SACrDJ,cAAA,OAAKC,UAAU,gBAAeG,SAC1BJ,cAACkP,EAAG,CAAC/C,OAAQpM,EAAMoQ,YAAaf,KAAM,SAG9CpP,cAACyC,EAAK,CACNG,KAAMiN,EACNhN,SAAUmN,EACV9N,OAAO,gBACPK,YAAY,4BACZC,OACE5B,eAAC8B,IAAMC,SAAQ,CAAAvC,SAAA,CACbJ,cAACqD,EAAM,CAACG,SAAO,EAAC5B,QAASoO,EAAoB5P,SAAC,WAG9CJ,cAACqD,EAAM,CAACI,QAAM,EAAC7B,QAASqO,EAAqB7P,SAAC,cAIjDA,SAEDJ,cAAA,KAAAI,SAAG,oGAKHJ,cAAA,MAAIC,UAAU,aAAYG,SACtBQ,eAACF,EAAI,CAACT,UAAU,sBAAqBG,SAAA,CACpCmE,GAAavE,cAACgE,EAAc,CAACC,WAAS,IACnCjE,cAAA,OAAKC,UAAU,oBAAmBG,SAC9BJ,cAAA,OACAK,IAAKW,wBAA+B,IAAAd,OAAMH,EAAMO,OAChDC,IAAKR,EAAM4N,UAGf/M,eAAA,OAAKX,UAAU,mBAAkBG,SAAA,CAC7BJ,cAAA,MAAAI,SAAKL,EAAM4N,QACX3N,cAAA,MAAAI,SAAKL,EAAM8N,UACX7N,cAAA,KAAAI,SAAIL,EAAM6N,iBAEdhN,eAAA,OAAKX,UAAU,sBAAqBG,SAAA,CAChCJ,cAACqD,EAAM,CAACG,SAAO,EAAC5B,QA5EX,WAAH,OAASgO,GAAW,EAAM,EA4EYxP,SAAC,gBACxCoN,EAAKL,SAAWpN,EAAMqQ,WAAYpQ,cAACqD,EAAM,CAACvC,GAAE,eAAAZ,OAAiBH,EAAMgB,IAAKX,SAAC,SACzEoN,EAAKL,SAAWpN,EAAMqQ,WAAYpQ,cAACqD,EAAM,CAACI,QAAM,EAAC7B,QA3EnC,WAC3BkO,GAAoB,EACtB,EAyEkG1P,SAAC,qBAMzG,ECjEeiQ,G,MA/BM,SAAAtQ,GACjB,OAA2B,IAAvBA,EAAMqB,MAAMC,OAEZrB,cAAA,OAAKC,UAAU,oBAAmBG,SAChCQ,eAACF,EAAI,CAAAN,SAAA,CACHJ,cAAA,MAAAI,SAAI,2CACJJ,cAACqD,EAAM,CAACvC,GAAG,kBAAiBV,SAAC,sBAOnCJ,cAAA,MAAIC,UAAU,aAAYG,SACvBL,EAAMqB,MAAME,KAAI,SAAAgP,GAAK,OACpBtQ,cAAC0P,EAAY,CAEX3O,GAAIuP,EAAMvP,GACVT,MAAOgQ,EAAMhQ,MACbqN,MAAO2C,EAAM3C,MACbC,YAAa0C,EAAM1C,YACnBC,QAASyC,EAAMzC,QACfuC,UAAWE,EAAMC,QACjBJ,YAAaG,EAAME,SACnBN,SAAUnQ,EAAM0Q,kBARXH,EAAMvP,GASX,KAIV,GCYa2P,EAtCM,WACnB,IAAAhJ,EAAqDxD,IAA7CK,EAASmD,EAATnD,UAAWR,EAAK2D,EAAL3D,MAAOe,EAAW4C,EAAX5C,YAAa0C,EAAUE,EAAVF,WACvCrD,EAAgDC,qBAAUC,EAAAC,YAAAH,EAAA,GAAnDwM,EAAgBtM,EAAA,GAAEuM,EAAmBvM,EAAA,GAEtC8I,EAAS0D,sBAAY1D,OAE3B/F,qBAAW,WACT,IAAM0J,EAAe,eAAA9L,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,IAAA,IAAA2L,EAAA,OAAA7L,cAAAY,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEMnB,EAAY9D,4BAAiC,oBAAAd,OAAwBiN,IAAU,KAAD,EAAlG4D,EAAWhL,EAAAS,KAEjBoK,EAAoBG,EAAYvP,YAAYuE,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAiB,GAAAjB,EAAA,gBAE/B,yBAAAA,EAAAkB,OAAA,GAAA7B,EAAA,kBAEhB,kBARoB,OAAAJ,EAAAmC,MAAA,KAAAtB,UAAA,KAUrBiL,GAEF,GAAG,CAAChM,EAAaqI,IAOjB,OACEvM,eAAAmH,WAAA,CAAA3H,SAAA,CAAEJ,cAAC6D,EAAU,CAACE,MAAOA,EAAOD,QAAS0D,IACpCjD,GACGvE,cAAA,OAAKC,UAAU,SAAQG,SACrBJ,cAACgE,EAAc,OAGnBO,GAAaoM,GAAoB3Q,cAACqQ,EAAY,CAACjP,MAAOuP,EAAkBK,kBAZ9C,SAAAC,GAC5BL,GAAoB,SAAAM,GAAc,OAChCA,EAAexK,QAAO,SAAAyK,GAAQ,OAAIA,EAASpQ,KAAOkQ,CAAiB,GAAC,GACxE,MAYF,ECqGeG,EAjIQ,WACrB,IAAM5D,EAAOC,qBAAWT,GAClBgB,EAAUC,uBAChBvG,EAAqDxD,IAA7CK,EAASmD,EAATnD,UAAWR,EAAK2D,EAAL3D,MAAOe,EAAW4C,EAAX5C,YAAa0C,EAAUE,EAAVF,WAEvCrD,EAAgDC,qBAAUC,EAAAC,YAAAH,EAAA,GAAnDwM,EAAgBtM,EAAA,GAAEuM,EAAmBvM,EAAA,GAEtCgN,EAAaR,sBAAYQ,WAE/B3D,EAA+ChB,EAC7C,CACEiB,MAAO,CACLnF,MAAO,GACPG,SAAS,GAEXiF,YAAa,CACXpF,MAAO,GACPG,SAAS,KAGb,GACDmF,EAAAxJ,YAAAoJ,EAAA,GAZMb,EAASiB,EAAA,GAAEC,EAAYD,EAAA,GAAEwD,EAAWxD,EAAA,GAc3C1G,qBAAW,WACT,IAAMmK,EAAa,eAAAvM,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,IAAA,IAAA2L,EAAA,OAAA7L,cAAAY,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEQnB,EAAY9D,4BAAiC,eAAAd,OAAiBmR,IACtF,KAAD,EADKN,EAAWhL,EAAAS,KAGjBoK,EAAoBG,EAAYI,UAChCG,EACM,CACE3D,MAAO,CACLnF,MAAOuI,EAAYI,SAASxD,MAC5BhF,SAAS,GAEXiF,YAAa,CACXpF,MAAOuI,EAAYI,SAASvD,YAC5BjF,SAAS,KAGb,GACJ5C,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAiB,GAAAjB,EAAA,iBAGW,yBAAAA,EAAAkB,OAAA,GAAA7B,EAAA,kBAEhB,kBAvBkB,OAAAJ,EAAAmC,MAAA,KAAAtB,UAAA,KAyBnB0L,GAEF,GAAG,CAACzM,EAAauM,EAAYC,IAG7B,IAAME,EAA2B,eAAAC,EAAAxM,YAAAC,cAAAC,MAAG,SAAAuM,EAAMtP,GAAK,OAAA8C,cAAAY,MAAA,SAAA6L,GAAA,cAAAA,EAAA3L,KAAA2L,EAAA1L,MAAA,OACtB,OAAvB7D,EAAMC,iBAAiBsP,EAAA3L,KAAA,EAAA2L,EAAA1L,KAAA,EAGfnB,EACJ9D,4BAAiC,eAAAd,OAAiBmR,GAClD,QACAO,KAAKC,UAAU,CACblE,MAAOd,EAAUL,OAAOmB,MAAMnF,MAC9BoF,YAAaf,EAAUL,OAAOoB,YAAYpF,QAE5C,CACE,eAAgB,mBAChB,cAAiB,UAAYgF,EAAKJ,QAEpC,KAAD,EACDY,EAAQ3H,KAAK,IAAMmH,EAAKL,OAAS,eAAewE,EAAA1L,KAAA,eAAA0L,EAAA3L,KAAA,EAAA2L,EAAA3K,GAAA2K,EAAA,iCAAAA,EAAA1K,OAAA,GAAAyK,EAAA,kBAGnD,gBAnBgCxK,GAAA,OAAAuK,EAAAtK,MAAA,KAAAtB,UAAA,KAqBjC,OAAK8K,EAUDpM,EAEAvE,cAAA,OAAKC,UAAU,SAAQG,SACrBJ,cAACgE,EAAc,MAMnBpD,eAAAmH,WAAA,CAAA3H,SAAA,CACAJ,cAAC6D,EAAU,CAACE,MAAOA,EAAOD,QAAS0D,KAC/BjD,GAAaoM,GACf/P,eAAA,QAAMX,UAAU,aAAakC,SAAUqP,EAA4BpR,SAAA,CACjEJ,cAAC2J,EAAK,CACJ5I,GAAG,QACHwJ,QAAQ,QACR5G,KAAK,OACLkH,MAAM,QACNpC,WAAY,CAACL,KACb0C,UAAU,8BACVX,QAAS4D,EACTjE,aAAc6G,EAAiBhD,MAC/B5D,cAAc,IAEhB/J,cAAC2J,EAAK,CACJ5I,GAAG,cACHwJ,QAAQ,WACRM,MAAM,cACNpC,WAAY,CAACJ,EAAoB,IACjCyC,UAAU,wDACVX,QAAS4D,EACTjE,aAAc6G,EAAiB/C,YAC/B7D,cAAc,IAEhB/J,cAACqD,EAAM,CAACM,KAAK,SAASC,UAAWiJ,EAAUlE,QAAQvI,SAAC,uBAIpD,OA9CFJ,cAAA,OAAKC,UAAU,SAAQG,SACrBJ,cAACU,EAAI,CAAAN,SACHJ,cAAA,MAAAI,SAAI,gCAgDd,ECKe0R,I,MAnIF,WACX,IAAMtE,EAAOC,qBAAWT,GACxB7I,EAAsCC,oBAAS,GAAKC,EAAAC,YAAAH,EAAA,GAA7C4N,EAAW1N,EAAA,GAAE2N,EAAc3N,EAAA,GAClCqD,EAAsDxD,IAA9CK,EAASmD,EAATnD,UAAWR,EAAK2D,EAAL3D,MAAOe,EAAW4C,EAAX5C,YAAa0C,EAAUE,EAAVF,WAEvCkG,EAA+ChB,EACzC,CACEuF,MAAO,CACLzJ,MAAO,GACPG,SAAS,GAEXuJ,SAAU,CACR1J,MAAO,GACPG,SAAS,KAGb,GACDmF,EAAAxJ,YAAAoJ,EAAA,GAZEb,EAASiB,EAAA,GAAEC,EAAYD,EAAA,GAAEwD,EAAWxD,EAAA,GA2CnCqE,EAAiB,eAAAnN,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,EAAMhD,GAAK,IAAAuD,EAAAwI,EAAAiE,EAAA,OAAAlN,cAAAY,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACV,GAAvB7D,EAAMC,kBAEF0P,EAAY,CAADhM,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEgBnB,EACzB9D,wCACA,OACF4Q,KAAKC,UAAU,CACbI,MAAOpF,EAAUL,OAAOyF,MAAMzJ,MAC9B0J,SAAUrF,EAAUL,OAAO0F,SAAS1J,QAErC,CACG,eAAgB,qBAElB,KAAD,EAVK7C,EAAYI,EAAAS,KAWlBgH,EAAKH,MAAM1H,EAAawH,OAAQxH,EAAayH,OAAOrH,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAiB,GAAAjB,EAAA,iBAAAA,EAAAE,KAAA,iBAQG,OARHF,EAAAC,KAAA,IAI9CmI,EAAW,IAAIC,UACZC,OAAO,QAASxB,EAAUL,OAAOyF,MAAMzJ,OAChD2F,EAASE,OAAO,OAAQxB,EAAUL,OAAOvL,KAAKuH,OAC9C2F,EAASE,OAAO,WAAYxB,EAAUL,OAAO0F,SAAS1J,OACtD2F,EAASE,OAAO,QAASxB,EAAUL,OAAOlM,MAAMkI,OAAOzC,EAAAE,KAAA,GAC5BnB,EACzB9D,yCACA,OACAmN,GACA,KAAD,GAJKxI,EAAYI,EAAAS,KAMlBgH,EAAKH,MAAM1H,EAAawH,OAAQxH,EAAayH,OAAOrH,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAsM,GAAAtM,EAAA,mCAAAA,EAAAkB,OAAA,GAAA7B,EAAA,0BAG3D,gBAlCsB8B,GAAA,OAAAlC,EAAAmC,MAAA,KAAAtB,UAAA,KAoCzB,OACEjF,eAAAmH,WAAA,CAAA3H,SAAA,CACAJ,cAAC6D,EAAU,CAACE,MAAOA,EAAOD,QAAS0D,IACnC5G,eAACF,EAAI,CAACT,UAAU,iBAAgBG,SAAA,CAC/BmE,GAAavE,cAACgE,EAAc,CAACC,WAAS,IACrCjE,cAAA,MAAAI,SAAI,mBACJJ,cAAA,SACAY,eAAA,QAAMuB,SAAUgQ,EAAkB/R,SAAA,EAC9B2R,GACA/R,cAAC2J,EAAK,CACJY,QAAQ,QACRxJ,GAAG,OACH4C,KAAK,OACLkH,MAAM,YACNpC,WAAY,CAACL,KACb0C,UAAU,uBACVX,QAAS4D,IAEb/N,cAAC2J,EAAK,CACJY,QAAQ,QACRxJ,GAAG,QACH4C,KAAK,QACLkH,MAAM,SACNpC,WAAY,Cf1GgB,CAAE9E,KAAMwE,Ie2GpC2C,UAAU,sCACVX,QAAS4D,IACX/N,cAAC2J,EAAK,CACJY,QAAQ,QACRxJ,GAAG,WACH4C,KAAK,WACLkH,MAAM,WACNpC,WAAY,CAACJ,EAAoB,IACjCyC,UAAU,wDACVX,QAAS4D,KACTgE,GAAe/R,cAAC+K,EAAW,CAACoB,QAAM,EAACpL,GAAG,QAAQoJ,QAAS4D,EAAcjD,UAAU,6BACjF9K,cAACqD,EAAM,CAACM,KAAK,SAASC,UAAWiJ,EAAUlE,QAAQvI,SAChD2R,EAAc,QAAU,cAG7BnR,eAACyC,EAAM,CAACG,SAAO,EAAC5B,QAxGQ,WACjBmQ,EAUHT,EAAWlO,wBAAC,CAAD,EAEJyJ,EAAUL,QAAM,IACnBvL,KAAM,CACJuH,MAAO,GACPG,SAAS,GAEXrI,MAAO,CACLkI,MAAO,KACPG,SAAS,MAGb,GArBF2I,EAAWlO,wBAAC,CAAD,EAEJyJ,EAAUL,QAAM,IACnBvL,UAAMiF,EACN5F,WAAO4F,IAET2G,EAAUL,OAAOyF,MAAMtJ,SAAWkE,EAAUL,OAAO0F,SAASvJ,SAkBhEqJ,GAAe,SAAAM,GAAQ,OAAKA,CAAQ,GACtC,EA6E2ClS,SAAA,CAAC,aAC/B2R,EAAc,SAAW,gBAK5C,GCzEeQ,GA9DH,WAEV,IAGIC,EAHJC,E5BVqB,WACnB,IAAAtO,EAA0BC,mBAAS,MAAKC,EAAAC,YAAAH,EAAA,GAAjCiJ,EAAK/I,EAAA,GAAEqO,EAAQrO,EAAA,GACxBI,EAA4BL,mBAAS,CAAC,GAAEM,EAAAJ,YAAAG,EAAA,GAAjC0I,EAAMzI,EAAA,GAAEiO,EAASjO,EAAA,GACxB0G,EAA8ChH,qBAAUiH,EAAA/G,YAAA8G,EAAA,GAAjDwH,EAAevH,EAAA,GAAEwH,EAAkBxH,EAAA,GAIpCgC,GAHOI,qBAAWT,GAGVjI,uBAAY,SAAC+N,EAAK1F,EAAO2F,GACrCL,EAAStF,GACTuF,EAAUG,GACV,IAAME,EAAsBD,GAAkB,IAAIE,MAAK,IAAIA,MAAOC,UAAY,MAC9EL,EAAmBG,GAEnBG,aAAaC,QAAQ,WAAYxB,KAAKC,UAAU,CAAC1E,OAAQ2F,EAAK1F,MAAOA,EAAOiG,WAAYL,EAAoBM,gBAC9G,GAAG,KAEGhG,EAASvI,uBAAY,WACzB2N,EAAS,MACTC,EAAU,MACVQ,aAAaI,WAAW,YACxBV,EAAmB,KAErB,GAAG,IAkBH,OAhBAzL,qBAAU,WACR,GAAIgG,GAASwF,EAAiB,CAC5B,IAAMY,EAAgBZ,EAAgBM,WAAY,IAAID,MAAOC,UAC7DrT,EAAc4T,WAAWnG,EAAQkG,EACnC,MACEE,aAAa7T,EAEjB,GAAG,CAACuN,EAAOE,EAAQsF,IAEnBxL,qBAAU,WACR,IAAMuM,EAAa/B,KAAKgC,MAAMT,aAAaU,QAAQ,aAC/CF,GAAcA,EAAWvG,OAAS,IAAI6F,KAAKU,EAAWN,YAAc,IAAIJ,MAC1E5F,EAAMsG,EAAWxG,OAAQwG,EAAWvG,MAAO,IAAI6F,KAAKU,EAAWN,YAEnE,GAAG,CAAChG,IAEG,CAAED,QAAOC,QAAOC,SAAQH,SACjC,C4B/B2C2G,GAAjC1G,EAAKqF,EAALrF,MAAOC,EAAKoF,EAALpF,MAAOC,EAAMmF,EAANnF,OAAQH,EAAMsF,EAANtF,OAwC9B,OAlCEqF,EADEpF,EAEAxM,eAACmT,SAAM,CAAA3T,SAAA,CACPJ,cAACgU,QAAK,CAACC,KAAK,IAAIvQ,OAAK,EAAAtD,SACnBJ,cAACyH,EAAK,MAERzH,cAACgU,QAAK,CAACC,KAAK,sBAAsBvQ,OAAK,EAAAtD,SACnCJ,cAAC0Q,EAAY,MAEjB1Q,cAACgU,QAAK,CAACC,KAAK,kBAAkBvQ,OAAK,EAAAtD,SAC/BJ,cAACkU,EAAW,MAEhBlU,cAACgU,QAAK,CAACC,KAAK,0BAAyB7T,SACjCJ,cAACoR,EAAc,MAEjBpR,cAACmU,WAAQ,CAACrT,GAAG,SAKfF,eAACmT,SAAM,CAAA3T,SAAA,CACLJ,cAACgU,QAAK,CAACC,KAAK,IAAIvQ,OAAK,EAAAtD,SACrBJ,cAACyH,EAAK,MAERzH,cAACgU,QAAK,CAACC,KAAK,sBAAsBvQ,OAAK,EAAAtD,SACnCJ,cAAC0Q,EAAY,MAEf1Q,cAACgU,QAAK,CAACC,KAAK,QAAO7T,SACjBJ,cAAC8R,GAAI,MAEP9R,cAACmU,WAAQ,CAACrT,GAAG,aAMnBd,cAACgN,EAAYoH,SAAQ,CACrB5L,MAAO,CACL0E,aAAcE,EACdA,QACAD,SACAE,QACAC,UACElN,SACJQ,eAACyT,IAAM,CAAAjU,SAAA,CACLJ,cAAC8O,EAAc,IACf9O,cAAA,QAAAI,SACKoS,QAMT,EC7De8B,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,SAAAzP,GAAkD,IAA/C0P,EAAM1P,EAAN0P,OAAQC,EAAM3P,EAAN2P,OAAQC,EAAM5P,EAAN4P,OAAQC,EAAM7P,EAAN6P,OAAQC,EAAO9P,EAAP8P,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,EACV,GAEJ,ECJA7S,IAASqT,OACP/U,cAAC0C,IAAMsS,WAAU,CAAA5U,SACfJ,cAACuS,GAAG,MAEN1Q,SAASC,eAAe,SAM1BwS,I","file":"static/js/main.40d3c405.chunk.js","sourcesContent":["import { useCallback, useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\n\r\nlet logoutTimer;\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState(null);\r\n  const [userId, setUserId] = useState({});\r\n  const [tokenExpiration, setTokenExpiration] = useState();\r\n  const auth = useContext(AuthContext)\r\n \r\n\r\n  const login = useCallback((uid, token, expirationDate) => {\r\n    setToken(token);\r\n    setUserId(uid);\r\n    const tokenExpirationDate = expirationDate || new Date(new Date().getTime() + 1000 * 60 *60);\r\n    setTokenExpiration(tokenExpirationDate);\r\n\r\n    localStorage.setItem('userData', JSON.stringify({userId: uid, token: token, expiration: tokenExpirationDate.toISOString() }))\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setUserId(null);\r\n    localStorage.removeItem('userData');\r\n    setTokenExpiration(null);\r\n    \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (token && tokenExpiration) {\r\n      const remainingTime = tokenExpiration.getTime() - new Date().getTime();\r\n      logoutTimer = setTimeout(logout, remainingTime);\r\n    }else{\r\n      clearTimeout(logoutTimer);\r\n    }\r\n  }, [token, logout, tokenExpiration])\r\n\r\n  useEffect(() => {\r\n    const storedData = JSON.parse(localStorage.getItem('userData'));\r\n    if (storedData && storedData.token && new Date(storedData.expiration) > new Date()) {\r\n      login(storedData.userId, storedData.token, new Date(storedData.expiration));\r\n    }\r\n  }, [login]);\r\n\r\n  return { token, login, logout, userId };\r\n};\r\n","import React from 'react';\n\nimport './Avatar.css';\n\nconst Avatar = props => {\n  return (\n    <div className={`avatar ${props.className}`} style={props.style}>\n      <img\n        src={props.image}\n        alt={props.alt}\n        style={{ width: props.width, height: props.width }}\n      />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport \"./UsersItem.css\"\r\nimport Avatar from '../../shared/components/UIElements/Avatar'\r\nimport Card from '../../shared/components/UIElements/Card'\r\n\r\nconst UsersItem = props => {\r\n    return (\r\n      <li className=\"user-item\">\r\n        <Card className=\"user-item__content users-page\">\r\n          <Link to={`/${props.id}/activities`}>\r\n            <div className=\"user-item__image\">\r\n              <Avatar image={process.env.REACT_APP_ASSET_URL + `/${props.image}`} alt={props.name} />\r\n            </div>\r\n            <div className=\"user-item__info\">\r\n              <h2>{props.name}</h2>\r\n              <h3>\r\n                {props.count} {props.count === 1 ? 'Activity' : 'Activities'}\r\n              </h3>\r\n            </div>\r\n          </Link>\r\n        </Card>\r\n      </li>\r\n\r\n    )\r\n\r\n\r\n};\r\n\r\nexport default UsersItem;","import React from 'react';\r\n\r\nimport \"./UsersList.css\"\r\nimport UsersItem from './UsersItem';\r\nimport Card from '../../shared/components/UIElements/Card';\r\n\r\nconst UsersList = props => {\r\n    if(props.items.length === 0){\r\n        return (\r\n            <div className='center'>\r\n                <Card>\r\n                    <h2>No users found.</h2>\r\n                </Card>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n    <ul className='users-list'>\r\n        {props.items.map(user=> (\r\n            <UsersItem \r\n                key={user.id} \r\n                id={user.id} \r\n                image={user.image} \r\n                name={user.name} \r\n                count={user.activities.length}\r\n            />\r\n        ))}\r\n    </ul>\r\n    );\r\n\r\n\r\n};\r\n\r\nexport default UsersList;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Backdrop.css';\n\nconst Backdrop = props => {\n  return ReactDOM.createPortal(\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\n    document.getElementById('backdrop-hook')\n  );\n};\n\nexport default Backdrop;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport Backdrop from './Backdrop';\r\nimport './Modal.css'\r\n\r\nconst ModalOverlay = props => {\r\n    const content = (\r\n        <div className={`modal ${props.className}`} style={props.style}>\r\n            <header className={`modal__header ${props.headerClass}`}>\r\n                <h2>{props.header}</h2>\r\n            </header>\r\n            <form onSubmit={props.onSubmit ? props.onSubmit : (event) => event.preventDefault()}>\r\n                <div className={`modal__content ${props.contentClass}`}>\r\n                    {props.children}\r\n                </div>\r\n                <footer className={`modal__footer ${props.footerClass}`}>\r\n                    {props.footer}\r\n                </footer>\r\n            </form>\r\n            \r\n        </div>\r\n    );\r\n\r\n    return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\r\n};\r\n\r\nconst Modal = props => {\r\n    return(\r\n        <React.Fragment>\r\n            {props.show && <Backdrop onClick={props.onCancel}/>}\r\n            <CSSTransition in={props.show} mountOnEnter unmountOnExit timeout={200} classNames=\"modal\">\r\n                <ModalOverlay {...props}/>\r\n            </CSSTransition>\r\n        </React.Fragment>\r\n    )\r\n   \r\n\r\n};\r\n\r\nexport default Modal;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = props => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || 'default'} ${props.inverse &&\n        'button--inverse'} ${props.danger && 'button--danger'}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import { useState, useCallback, useRef, useEffect } from 'react';\r\n\r\nexport const useHttpClient = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  const activeHttpRequests = useRef([]);\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = 'GET', body = null, headers = {}) => {\r\n      setIsLoading(true);\r\n      const httpAbortCtrl = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrl);\r\n\r\n      try {\r\n        const response = await fetch(url, {\r\n          method,\r\n          body,\r\n          headers,\r\n          signal: httpAbortCtrl.signal\r\n        });\r\n\r\n        const responseData = await response.json();\r\n\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          reqCtrl => reqCtrl !== httpAbortCtrl\r\n        );\r\n\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message);\r\n        }\r\n\r\n        setIsLoading(false);\r\n        return responseData;\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setIsLoading(false);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\r\n    };\r\n  }, []);\r\n\r\n  return { isLoading, error, sendRequest, clearError };\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport UsersList from '../components/UsersList';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal'\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\n\r\nconst Users = () => {\r\n\r\n    const { isLoading, error, sendRequest, clearError} = useHttpClient();\r\n\r\n    const [loadedUsers, setLoadedUsers] = useState();\r\n\r\n    useEffect(() => {\r\n        const fetchUsers = async () => {\r\n            try {\r\n                const responseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + '/users');\r\n            \r\n                setLoadedUsers(responseData.users);\r\n\r\n            }catch(err){\r\n            };\r\n\r\n        };\r\n\r\n        fetchUsers();\r\n\r\n    }, [sendRequest]);\r\n\r\n\r\n    return (\r\n        <><ErrorModal error={error} onClear={clearError} />\r\n        {isLoading && (\r\n        <div className='center'>\r\n            <LoadingSpinner />\r\n        </div>)}\r\n\r\n        { !isLoading && loadedUsers && <UsersList items={loadedUsers} />}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Users;","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};\n","import React, { useReducer, useEffect } from 'react';\r\n\r\nimport { validate } from '../../util/validators';\r\nimport './Input.css';\r\n\r\nconst inputReducer = (state, action) => {\r\n    switch(action.type) {\r\n        case 'CHANGE':\r\n            return {\r\n                ...state,\r\n                value:action.val,\r\n                isValid: validate(action.val, action.validators)\r\n            };\r\n        case 'TOUCH':{\r\n            return {\r\n                ...state,\r\n                isTouched: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\n\r\nconst Input = props => {\r\n    const [inputState, dispatch] = useReducer(inputReducer, {\r\n        value:props.initialValue || '', \r\n        isValid:props.initialValid || false, \r\n        isTouched:false});\r\n    // currentstate, dispatch方法=（reducer方法，state初始值）\r\n\r\n    const {id, onInput } = props;\r\n    const {value, isValid } = inputState;\r\n\r\n    useEffect(() => {\r\n        onInput(id, value, isValid)\r\n    },[id, value, isValid, onInput]);\r\n\r\n    const changeHandler = event => {\r\n        dispatch({type:'CHANGE', val:event.target.value, validators:props.validators});\r\n\r\n    };\r\n\r\n    const touchHandler = () => {\r\n        dispatch({type:'TOUCH'});\r\n\r\n    };\r\n\r\n\r\n    const element = props.element === 'input' ? (\r\n        <input \r\n        id={props.id} \r\n        type={props.type} \r\n        placeholder={props.placeholder} \r\n        onChange={changeHandler} \r\n        onBlur={touchHandler} \r\n        value={inputState.value}/>\r\n      ) : (\r\n        <textarea \r\n        id={props.id} \r\n        rows={props.rows || 3} \r\n        onChange={changeHandler} \r\n        onBlur={touchHandler} \r\n        value={inputState.value}/>\r\n      );\r\n    \r\n    return (\r\n        <div className={`form-control ${!inputState.isValid && inputState.isTouched && 'form-control--invalid'}`}>\r\n          <label htmlFor={props.id}>{props.label}</label>\r\n          {element}\r\n          {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\r\n        </div>\r\n      );\r\n  \r\n};\r\n\r\nexport default Input;\r\n","import React, { useRef, useState, useEffect }  from 'react';\r\n\r\nimport './ImageUpload.css';\r\nimport Button from './Button';\r\n\r\nconst ImageUpload = props => {\r\n\r\n    const [file, setFile] = useState();\r\n    const [previewUrl, setPreviewUrl] = useState();\r\n    const [isValid, setIsValid] = useState(false);\r\n\r\n    const filePickerRef = useRef();\r\n\r\n    useEffect(() => {\r\n        if (!file) {\r\n          return;\r\n        }\r\n        const fileReader = new FileReader();\r\n        fileReader.onload = () => {\r\n          setPreviewUrl(fileReader.result);\r\n        };\r\n        fileReader.readAsDataURL(file);\r\n      }, [file]);\r\n\r\n    const pickedHandler = event => {\r\n        let pickedFile;\r\n        let fileIsValid = isValid;\r\n\r\n        if (event.target.files && event.target.files.length === 1) {\r\n            pickedFile = event.target.files[0];\r\n            setFile(pickedFile);\r\n            setIsValid(true);\r\n            fileIsValid = true;\r\n        } else {\r\n            setIsValid(false);\r\n            fileIsValid = false;\r\n        }\r\n        props.onInput(props.id, pickedFile, fileIsValid);\r\n  };\r\n\r\n    const pickImageHandler = () => {\r\n    filePickerRef.current.click();\r\n  };\r\n\r\n\r\n    return (\r\n        <div className=\"form-control\">\r\n      <input\r\n        id={props.id}\r\n        ref={filePickerRef}\r\n        style={{ display: 'none' }}\r\n        type=\"file\"\r\n        accept=\".jpg,.png,.jpeg\"\r\n        onChange={pickedHandler}\r\n      />\r\n      <div className={`image-upload ${props.center && 'center'}`}>\r\n        <div className=\"image-upload__preview\">\r\n          {previewUrl && <img src={previewUrl} alt=\"Preview\" />}\r\n          {!previewUrl && <p>Please pick an image.</p>}\r\n        </div>\r\n        <Button type=\"button\" onClick={pickImageHandler}>PICK IMAGE</Button>\r\n      </div>\r\n      {!isValid && <p>{props.errorText}</p>}\r\n    </div>\r\n    )\r\n\r\n\r\n};\r\n\r\nexport default ImageUpload","import { useCallback, useReducer } from \"react\";\r\n\r\nconst formReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case 'INPUT_CHANGE':\r\n        let formIsValid = true;\r\n        for (const inputId in state.inputs) {\r\n          if (!state.inputs[inputId]){\r\n            continue;\r\n          }\r\n          if (inputId === action.inputId) {\r\n            formIsValid = formIsValid && action.isValid;\r\n          } else {\r\n            formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n          }\r\n        }\r\n        return {\r\n          ...state,\r\n          inputs: {\r\n            ...state.inputs,\r\n            [action.inputId]: { value: action.value, isValid: action.isValid }\r\n          },\r\n          isValid: formIsValid\r\n        };\r\n        case 'SET_DATA':\r\n            return {\r\n              inputs: action.inputs,\r\n              isValid: action.formIsValid\r\n            };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n\r\n\r\nexport const useForm = (initialInputs, initialFormValidity) => {\r\n    const [formState, dispatch] = useReducer(formReducer, {\r\n        inputs: initialInputs,\r\n        isValid: initialFormValidity\r\n      });\r\n    \r\n    const inputHandler = useCallback((id, value, isValid) => {\r\n        dispatch({\r\n          type: 'INPUT_CHANGE',\r\n          value: value,\r\n          isValid: isValid,\r\n          inputId: id\r\n        });\r\n      }, []);\r\n\r\n      const setFormData = useCallback((inputData, formValidity) => {\r\n        dispatch({\r\n            type: 'SET_DATA',\r\n            inputs: inputData,\r\n            formIsValid: formValidity\r\n        });\r\n      }, []); \r\n    \r\n      return [formState, inputHandler, setFormData];\r\n\r\n};\r\n\r\n\r\n","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext({\r\nisLoggedIn: false,\r\n    userId: null,\r\n    token: null,\r\n    login: () => {},\r\n    logout: () => {}\r\n});\r\n\r\n  ","import React, { useCallback, useReducer, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\nimport './Placeform.css'\r\nimport Input from '../../shared/components/FormElements/Input';\r\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from '../../shared/util/validators';\r\nimport Button from '../../shared/components/FormElements/Button';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport ImageUpload from '../../shared/components/FormElements/ImageUpload';\r\n\r\nimport { useForm } from '../../shared/hooks/form-hook';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\nimport { AuthContext } from '../../shared/context/auth-context'; \r\n\r\n\r\n\r\nconst NewActivity = () => {\r\n  const { isLoading, error, sendRequest, clearError} = useHttpClient();\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [formState, inputHandler] = useForm(\r\n      {\r\n        title: {\r\n          value: '',\r\n          isValid: false\r\n        },\r\n        description: {\r\n          value: '',\r\n          isValid: false\r\n        },\r\n        address: {\r\n          value: '',\r\n          isValid: false\r\n        },\r\n        image: {\r\n          value: null,\r\n          isValid: false\r\n        }\r\n      },\r\n      false\r\n    );\r\n   const history = useHistory();\r\n\r\n    const activitySubmitHandler = async event => {\r\n      event.preventDefault();\r\n\r\n      try {\r\n          const formData = new FormData();\r\n            formData.append('title', formState.inputs.title.value);\r\n            formData.append('description', formState.inputs.description.value);\r\n            formData.append('address', formState.inputs.address.value);\r\n            formData.append('image', formState.inputs.image.value);\r\n          await sendRequest(process.env.REACT_APP_BACKEND_URL + '/activities', \r\n          'POST', \r\n          formData,\r\n          {Authorization: 'Bearer ' + auth.token}\r\n          );\r\n      history.push('/');\r\n\r\n      }catch(err){};\r\n    };\r\n\r\n    const print = () => {\r\n      console.log(auth.userId)\r\n    }\r\n  \r\n    return (\r\n      <><ErrorModal error={error} onClear={clearError} />\r\n      <form className=\"place-form\" onSubmit={activitySubmitHandler}>\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n        <Input\r\n          id=\"title\"\r\n          element=\"input\"\r\n          type=\"text\"\r\n          label=\"Title\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please enter a valid title.\"\r\n          onInput={inputHandler} />\r\n        <Input\r\n          id=\"description\"\r\n          element=\"textarea\"\r\n          label=\"Description\"\r\n          validators={[VALIDATOR_MINLENGTH(5)]}\r\n          errorText=\"Please enter a valid description (at least 5 characters).\"\r\n          onInput={inputHandler} />\r\n        <Input\r\n          id=\"address\"\r\n          element=\"input\"\r\n          label=\"Address\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please enter a valid address.\"\r\n          onInput={inputHandler} />\r\n         <ImageUpload center id=\"image\" onInput={inputHandler} errorText='Please provide an image.'/>\r\n        <Button type=\"submit\" onClick = {print} disabled={!formState.isValid}>\r\n          ADD ACTIVITY\r\n        </Button>\r\n      </form></>\r\n    );\r\n  };\r\n\r\nexport default NewActivity;","import React from 'react';\r\n\r\nimport './MainHeader.css';\r\n\r\nconst MainHeader = props => {\r\n    return (\r\n        <header className='main-header'>\r\n        {props.children}\r\n        </header>\r\n    );;\r\n};\r\n\r\nexport default MainHeader;","import React, { useContext }from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { AuthContext } from '../../context/auth-context';\r\nimport './NavLinks.css'\r\n\r\nconst NavLinks = props => {\r\n    const auth = useContext(AuthContext);\r\n\r\n    return <ul className='nav-links'>\r\n        <li>\r\n            <NavLink to='/' exact>ALL USERS</NavLink>\r\n        </li>\r\n        {auth.isLoggedIn && <li>\r\n            <NavLink to={`/${auth.userId}/activities`} >MY ACTIVITIES</NavLink>\r\n        </li>}\r\n        {auth.isLoggedIn && <li>\r\n            <NavLink to='/activities/new'>NEW ACTIVITY</NavLink>\r\n        </li>}\r\n        {!auth.isLoggedIn && <li>\r\n            <NavLink to='/auth'>AUTHENTICATE</NavLink>\r\n        </li>}\r\n        {auth.isLoggedIn && \r\n        <li>\r\n            <button onClick={auth.logout}>LOGOUT</button>\r\n        </li>}\r\n    </ul>\r\n\r\n};\r\n\r\nexport default NavLinks;","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nimport './SideDrawer.css'\r\n\r\nconst SideDrawer = props => {\r\n    const content = (\r\n    <CSSTransition in={props.show} timeout={200} classNames='slide-in-left' mountOnEnter unmountOnExit>\r\n        <aside className='side-drawer' onClick={props.onClick}>{props.children}</aside>\r\n    </CSSTransition>);\r\n\r\n    return ReactDom.createPortal(content, document.getElementById('drawer-hook'));\r\n\r\n};\r\n\r\nexport default SideDrawer;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport MainHeader from './MainHeader';\r\nimport NavLinks from './NavLinks';\r\nimport SideDrawer from './SideDrawer';\r\nimport Backdrop from '../UIElements/Backdrop';\r\n\r\nimport './MainNavigation.css';\r\n\r\nconst MainNavigation = props => {\r\n    const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n\r\n    const openDrawerHandler = () => {\r\n        setDrawerIsOpen(true);\r\n    };\r\n\r\n    const closeDrawerHandler = () => {\r\n        setDrawerIsOpen(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n        {drawerIsOpen && <Backdrop onClick={closeDrawerHandler} />}\r\n            <SideDrawer show={drawerIsOpen} onClick={closeDrawerHandler}>\r\n                <nav className='main-navigation__drawer-nav'>\r\n                    <NavLinks />\r\n                </nav>\r\n            </SideDrawer>\r\n        <MainHeader>\r\n                <button className='main-navigation__main-btn' onClick={openDrawerHandler}>\r\n                    <span />\r\n                    <span />\r\n                    <span />\r\n                </button>\r\n                <h1 className='main-navigation__title'>\r\n                    <Link to='/'>Your Activities</Link>\r\n                </h1>\r\n                <nav className='main-navigation__header-nav'>\r\n                    <NavLinks />\r\n                </nav>\r\n        </MainHeader></>\r\n        \r\n    );;\r\n};\r\n\r\nexport default MainNavigation;","import React, { useRef, useEffect } from 'react';\r\n\r\nimport './Map.css';\r\n\r\nconst Map = props => {\r\n  const mapRef = useRef();\r\n  \r\n  const { center, zoom } = props;\r\n\r\n  useEffect(() => {\r\n    const map = new window.google.maps.Map(mapRef.current, {\r\n      center: center,\r\n      zoom: zoom\r\n    });\r\n  \r\n    new window.google.maps.Marker({ position: center, map: map });\r\n  }, [center, zoom]);  \r\n\r\n  return (\r\n    <div\r\n      ref={mapRef}\r\n      className={`map ${props.className}`}\r\n      style={props.style}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import React, { useState, useContext } from 'react';\r\n\r\nimport './ActivityItem.css'\r\nimport Card from '../../shared/components/UIElements/Card';\r\nimport Button from '../../shared/components/FormElements/Button';\r\nimport Modal from '../../shared/components/UIElements/Modal';\r\nimport Map from '../../shared/components/UIElements/Map';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\n\r\n\r\nconst ActivityItem = props => {\r\n  const auth = useContext(AuthContext);\r\n  const { isLoading, error, sendRequest, clearError} = useHttpClient();\r\n  const [showMap, setShowMap] = useState(false);\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n\r\n  const openMapHandler = () => setShowMap(true);\r\n  const closeMapHandler = () => setShowMap(false);\r\n\r\n  const showDeleteWarningHandler = () => {\r\n        setShowConfirmModal(true);\r\n      };\r\n    \r\n  const cancelDeleteHandler = () => {\r\n        setShowConfirmModal(false);\r\n      };\r\n    \r\n    const confirmDeleteHandler = async () => {\r\n        setShowConfirmModal(false);\r\n        try {\r\n          await sendRequest(process.env.REACT_APP_BACKEND_URL +`/activities/${props.id}`,\r\n          'DELETE',\r\n          null,\r\n          {Authorization: 'Bearer ' + auth.token}\r\n          );\r\n          props.onDelete(props.id);\r\n\r\n        }catch(err) {};\r\n        \r\n    }\r\n    \r\n\r\n    return (\r\n        <>\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        <Modal \r\n        show={showMap} \r\n        onCancel={closeMapHandler} \r\n        header={props.address} \r\n        contentClass='place-item__modal-content' \r\n        footerClass='place-item__modal-actions' \r\n        footer={<Button onClick={closeMapHandler}>CLOSE</Button>} >\r\n            <div className='map-container'>\r\n                <Map center={props.coordinates} zoom={16} />\r\n            </div>\r\n        </Modal>\r\n        <Modal\r\n        show={showConfirmModal}\r\n        onCancel={cancelDeleteHandler}\r\n        header=\"Are you sure?\"\r\n        footerClass=\"place-item__modal-actions\"\r\n        footer={\r\n          <React.Fragment>\r\n            <Button inverse onClick={cancelDeleteHandler}>\r\n              CANCEL\r\n            </Button>\r\n            <Button danger onClick={confirmDeleteHandler}>\r\n              DELETE\r\n            </Button>\r\n          </React.Fragment>\r\n        }\r\n      >\r\n        <p>\r\n          Do you want to proceed and delete this place? Please note that it\r\n          can't be undone thereafter.\r\n        </p>\r\n      </Modal>\r\n        <li className=\"place-item\">\r\n            <Card className=\"place-item__content\">\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <div className=\"place-item__image\">\r\n                    <img \r\n                    src={process.env.REACT_APP_ASSET_URL +`/${props.image}`} \r\n                    alt={props.title} \r\n                    />\r\n                </div>\r\n                <div className=\"place-item__info\">\r\n                    <h2>{props.title}</h2>\r\n                    <h3>{props.address}</h3>\r\n                    <p>{props.description}</p>\r\n                </div>\r\n                <div className=\"place-item__actions\">\r\n                    <Button inverse onClick={openMapHandler}>VIEW ON MAP</Button>\r\n                    {auth.userId === props.creatorId &&<Button to={`/activities/${props.id}`}>EDIT</Button>}\r\n                    {auth.userId === props.creatorId &&<Button danger onClick={showDeleteWarningHandler}>DELETE</Button>}\r\n                </div>\r\n            </Card>\r\n        </li></>\r\n      );\r\n\r\n};\r\n\r\nexport default ActivityItem;","import React from 'react';\r\n\r\nimport Card from '../../shared/components/UIElements/Card';\r\nimport ActivityItem from './ActivityItem';\r\nimport Button from '../../shared/components/FormElements/Button';\r\nimport './ActivityList.css'\r\n\r\nconst ActivityList = props => {\r\n    if (props.items.length === 0) {\r\n      return (\r\n        <div className=\"place-list center\">\r\n          <Card>\r\n            <h2>No activities found. Maybe create one?</h2>\r\n            <Button to='/activities/new'>Add activity</Button>\r\n          </Card>\r\n        </div>\r\n      );\r\n    };\r\n  \r\n    return (\r\n      <ul className=\"place-list\">\r\n        {props.items.map(place => (\r\n          <ActivityItem\r\n            key={place.id}\r\n            id={place.id}\r\n            image={place.image}\r\n            title={place.title}\r\n            description={place.description}\r\n            address={place.address}\r\n            creatorId={place.creator}\r\n            coordinates={place.location}\r\n            onDelete={props.onDeleteActivity}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  };\r\n\r\nexport default ActivityList;","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport ActivityList from '../components/ActivityList';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\nimport { AuthContext } from '../../shared/context/auth-context'; \nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\n\n\nconst UserActivity = () => {\n  const { isLoading, error, sendRequest, clearError} = useHttpClient();\n  const [loadedActivities, setLoadedActivities] = useState();\n\n  const userId = useParams().userId;\n\n  useEffect( () => {\n    const fetchActivities = async () => {\n      try {\n        const reponseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + `\\/activities/user/${userId}`);\n\n        setLoadedActivities(reponseData.activities);\n\n      }catch(err) {};\n\n    }\n    \n    fetchActivities();\n\n  }, [sendRequest, userId]);\n\n  const activityDeleteHandler = deletedActivityId => {\n    setLoadedActivities(prevActivities => \n      prevActivities.filter(activity => activity.id !== deletedActivityId));\n  };\n\n  return( \n    <><ErrorModal error={error} onClear={clearError} />\n    {isLoading && (\n        <div className=\"center\">\n          <LoadingSpinner />\n        </div>\n      )}\n    {!isLoading && loadedActivities && <ActivityList items={loadedActivities} onDeletedActivity={activityDeleteHandler} />}\n    </>\n  );\n};\n\nexport default UserActivity;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport Input from '../../shared/components/FormElements/Input';\nimport Button from '../../shared/components/FormElements/Button';\nimport Card from '../../shared/components/UIElements/Card';\nimport {\n  VALIDATOR_REQUIRE,\n  VALIDATOR_MINLENGTH\n} from '../../shared/util/validators';\nimport { useForm } from '../../shared/hooks/form-hook';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\nimport './Placeform.css';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport { AuthContext } from '../../shared/context/auth-context';\n\n\nconst UpdateActivity = () => {\n  const auth = useContext(AuthContext);\n  const history = useHistory();\n  const { isLoading, error, sendRequest, clearError} = useHttpClient();\n\n  const [loadedActivities, setLoadedActivities] = useState();\n\n  const activityId = useParams().activityId;\n\n  const [formState, inputHandler, setFormData] = useForm(\n    {\n      title: {\n        value: '',\n        isValid: false\n      },\n      description: {\n        value: '',\n        isValid: false\n      }\n    },\n    false\n  );\n\n  useEffect( () => {\n    const fetchActivity = async () => {\n      try {\n        const reponseData = await sendRequest(process.env.REACT_APP_BACKEND_URL +`/activities/${activityId}`,\n        );\n\n        setLoadedActivities(reponseData.activity);\n        setFormData(\n              {\n                title: {\n                  value: reponseData.activity.title,\n                  isValid: true\n                },\n                description: {\n                  value: reponseData.activity.description,\n                  isValid: true\n                }\n              },\n              true\n        );\n\n\n      }catch(err) {};\n      \n    }\n    \n    fetchActivity();\n\n  }, [sendRequest, activityId, setFormData]);\n\n\n  const activityUpdateSubmitHandler = async event => {\n    event.preventDefault();\n\n    try {\n      await sendRequest(\n        process.env.REACT_APP_BACKEND_URL +`/activities/${activityId}`,\n        'PATCH',\n        JSON.stringify({\n          title: formState.inputs.title.value,\n          description: formState.inputs.description.value\n        }),\n        {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + auth.token\n        }\n      );\n      history.push('/' + auth.userId + '/activities');\n    } catch (err) {}\n\n  };\n\n  if (!loadedActivities) {\n    return (\n      <div className=\"center\">\n        <Card>\n          <h2>Could not find activity!</h2>\n        </Card>\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"center\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  return (\n    <>\n    <ErrorModal error={error} onClear={clearError} />\n      {!isLoading && loadedActivities && (\n      <form className=\"place-form\" onSubmit={activityUpdateSubmitHandler}>\n        <Input\n          id=\"title\"\n          element=\"input\"\n          type=\"text\"\n          label=\"Title\"\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Please enter a valid title.\"\n          onInput={inputHandler}\n          initialValue={loadedActivities.title}\n          initialValid={true}\n        />\n        <Input\n          id=\"description\"\n          element=\"textarea\"\n          label=\"Description\"\n          validators={[VALIDATOR_MINLENGTH(5)]}\n          errorText=\"Please enter a valid description (min. 5 characters).\"\n          onInput={inputHandler}\n          initialValue={loadedActivities.description}\n          initialValid={true}\n        />\n        <Button type=\"submit\" disabled={!formState.isValid}>\n          UPDATE ACTIVITY\n        </Button>\n      </form>\n      )};\n  </>\n  );\n\n};\n\nexport default UpdateActivity;\n","import React, { useState, useContext } from 'react';\r\n\r\nimport './Auth.css'\r\nimport Card from '../../shared/components/UIElements/Card';\r\nimport Button from '../../shared/components/FormElements/Button';\r\nimport Input from '../../shared/components/FormElements/Input';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal'\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport ImageUpload from '../../shared/components/FormElements/ImageUpload';\r\nimport {\r\n    VALIDATOR_EMAIL,\r\n    VALIDATOR_MINLENGTH,\r\n    VALIDATOR_REQUIRE\r\n  } from '../../shared/util/validators';\r\nimport { useForm } from '../../shared/hooks/form-hook';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\n\r\n\r\nconst Auth = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [isLoginMode, setIsLoginMode] = useState(true);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const [formState, inputHandler, setFormData] = useForm(\r\n        {\r\n          email: {\r\n            value: '',\r\n            isValid: false\r\n          },\r\n          password: {\r\n            value: '',\r\n            isValid: false\r\n          }\r\n        },\r\n        false\r\n      );\r\n    \r\n    const switchModeHandler = () => {\r\n        if (!isLoginMode) {\r\n          setFormData(\r\n            {\r\n              ...formState.inputs,\r\n              name: undefined,\r\n              image: undefined\r\n            },\r\n            formState.inputs.email.isValid && formState.inputs.password.isValid\r\n          );\r\n        } else {\r\n          setFormData(\r\n            {\r\n              ...formState.inputs,\r\n              name: {\r\n                value: '',\r\n                isValid: false\r\n              },\r\n              image: {\r\n                value: null,\r\n                isValid: false\r\n              }\r\n            },\r\n            false\r\n          );\r\n        }\r\n        setIsLoginMode(prevMode => !prevMode);\r\n      };\r\n\r\n    const authSubmitHandler = async event => {\r\n        event.preventDefault();\r\n\r\n        if (isLoginMode) {\r\n          try {\r\n            const responseData = await sendRequest(\r\n              process.env.REACT_APP_BACKEND_URL +'/users/login', \r\n              'POST',\r\n            JSON.stringify({\r\n              email: formState.inputs.email.value,\r\n              password: formState.inputs.password.value\r\n            }),\r\n             {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n            auth.login(responseData.userId, responseData.token);\r\n          }catch (err) {}  \r\n        }else{\r\n          try{\r\n            const formData = new FormData();\r\n            formData.append('email', formState.inputs.email.value);\r\n            formData.append('name', formState.inputs.name.value);\r\n            formData.append('password', formState.inputs.password.value);\r\n            formData.append('image', formState.inputs.image.value);\r\n            const responseData = await sendRequest(\r\n              process.env.REACT_APP_BACKEND_URL +'/users/signup', \r\n              'POST',\r\n              formData\r\n            );\r\n            \r\n            auth.login(responseData.userId, responseData.token);\r\n          }catch(err) {}\r\n      }  \r\n    };\r\n    \r\n  return (\r\n    <>\r\n    <ErrorModal error={error} onClear={clearError} />\r\n    <Card className=\"authentication\">\r\n    {isLoading && <LoadingSpinner asOverlay />}\r\n      <h2>Login Required</h2>\r\n      <hr />\r\n      <form onSubmit={authSubmitHandler}>\r\n        {!isLoginMode && (\r\n          <Input\r\n            element=\"input\"\r\n            id=\"name\"\r\n            type=\"text\"\r\n            label=\"Your Name\"\r\n            validators={[VALIDATOR_REQUIRE()]}\r\n            errorText=\"Please enter a name.\"\r\n            onInput={inputHandler} />\r\n        )}\r\n        <Input\r\n          element=\"input\"\r\n          id=\"email\"\r\n          type=\"email\"\r\n          label=\"E-Mail\"\r\n          validators={[VALIDATOR_EMAIL()]}\r\n          errorText=\"Please enter a valid email address.\"\r\n          onInput={inputHandler} />\r\n        <Input\r\n          element=\"input\"\r\n          id=\"password\"\r\n          type=\"password\"\r\n          label=\"Password\"\r\n          validators={[VALIDATOR_MINLENGTH(6)]}\r\n          errorText=\"Please enter a valid password, at least 6 characters.\"\r\n          onInput={inputHandler} />\r\n        {!isLoginMode && <ImageUpload center id=\"image\" onInput={inputHandler} errorText='Please provide an image.'/>}\r\n        <Button type=\"submit\" disabled={!formState.isValid}>\r\n          {isLoginMode ? 'LOGIN' : 'SIGNUP'}\r\n        </Button>\r\n      </form>\r\n      <Button inverse onClick={switchModeHandler}>\r\n        SWITCH TO {isLoginMode ? 'SIGNUP' : 'LOGIN'}\r\n      </Button>\r\n    </Card></>\r\n   )\r\n\r\n};\r\n\r\nexport default Auth;","import React from \"react\";\nimport { BrowserRouter as Router, Route, Redirect, Switch} from 'react-router-dom';\n\nimport Users from './user/pages/Users';\nimport Newactivity from './activities/pages/NewActivity';\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport UserActivity from \"./activities/pages/UserActivity\";\nimport UpdateActivity from \"./activities/pages/UpdateActivity\";\nimport Auth from \"./user/pages/Auth\";\nimport { AuthContext } from \"./shared/context/auth-context\";\nimport { useAuth } from \"./shared/hooks/auth-hook\";\n\n\nconst App = () => {\n\n  const { token, login, logout, userId } = useAuth();\n\n\n  let routes;\n\n  if (token) {\n    routes = (\n      <Switch>\n      <Route path=\"/\" exact>\n        <Users />\n      </Route>\n      <Route path='/:userId/activities' exact>\n          <UserActivity />\n        </Route>\n      <Route path=\"/activities/new\" exact>\n          <Newactivity />\n      </Route> \n      <Route path='/activities/:activityId'>\n          <UpdateActivity />\n      </Route>\n        <Redirect to='/'/>\n      </Switch>\n    );\n  }else{\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n        <Users />\n      </Route>\n      <Route path='/:userId/activities' exact>\n          <UserActivity />\n        </Route>\n        <Route path='/auth'>\n          <Auth />\n        </Route>\n        <Redirect to='/auth'/>\n        </Switch>\n    );\n  };\n\n  return (\n  <AuthContext.Provider \n  value={{\n    isLoggedIn: !!token,\n    token,\n    userId,\n    login,\n    logout\n    }}>\n  <Router>\n    <MainNavigation />\n    <main>\n        {routes}\n    </main>\n    \n  </Router>\n  </AuthContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}