{"version":3,"sources":["shared/hooks/auth-hook.js","shared/components/UIElements/Avatar.js","shared/components/UIElements/Card.js","user/components/UsersItem.js","user/components/UsersList.js","shared/components/UIElements/Backdrop.js","shared/components/UIElements/Modal.js","shared/components/FormElements/Button.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/LoadingSpinner.js","shared/hooks/http-hook.js","user/pages/Users.js","shared/util/validators.js","shared/components/FormElements/Input.js","shared/components/FormElements/ImageUpload.js","shared/hooks/form-hook.js","shared/context/auth-context.js","activities/pages/NewActivity.js","shared/components/Navigation/MainHeader.js","shared/components/Navigation/NavLinks.js","shared/components/Navigation/SideDrawer.js","shared/components/Navigation/MainNavigation.js","shared/components/UIElements/Map.js","activities/components/ActivityItem.js","activities/components/ActivityList.js","activities/pages/UserActivity.js","activities/pages/UpdateActivity.js","user/pages/Auth.js","App.js","reportWebVitals.js","index.js"],"names":["logoutTimer","Avatar","props","_jsx","className","concat","style","children","src","image","alt","width","height","Card","UsersItem","_jsxs","Link","to","id","process","REACT_APP_ASSET_URL","name","count","UsersList","items","length","map","user","activities","Backdrop","ReactDOM","createPortal","onClick","document","getElementById","ModalOverlay","content","headerClass","header","onSubmit","event","preventDefault","contentClass","footerClass","footer","Modal","React","Fragment","show","onCancel","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","_objectSpread","Button","href","size","inverse","danger","exact","type","disabled","ErrorModal","onClear","error","LoadingSpinner","asOverlay","useHttpClient","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","setError","activeHttpRequests","useRef","sendRequest","useCallback","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","method","body","headers","httpAbortCtrl","response","responseData","_args","arguments","wrap","_context","prev","next","undefined","AbortController","current","push","fetch","signal","sent","json","filter","reqCtrl","ok","Error","message","abrupt","t0","stop","_x","apply","useEffect","forEach","abortCtrl","abort","clearError","Users","_useHttpClient","loadedUsers","setLoadedUsers","fetchUsers","REACT_APP_BACKEND_URL","users","_Fragment","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_REQUIRE","VALIDATOR_MINLENGTH","val","validate","value","validators","_step","isValid","_iterator","_createForOfIteratorHelper","s","n","done","validator","trim","test","err","e","f","inputReducer","state","action","isTouched","Input","_useReducer","useReducer","initialValue","initialValid","_useReducer2","inputState","dispatch","onInput","changeHandler","target","touchHandler","element","placeholder","onChange","onBlur","rows","htmlFor","label","errorText","ImageUpload","file","setFile","previewUrl","setPreviewUrl","_useState5","_useState6","setIsValid","filePickerRef","fileReader","FileReader","onload","result","readAsDataURL","ref","display","accept","pickedFile","fileIsValid","files","center","click","formReducer","formIsValid","inputId","inputs","_defineProperty","useForm","initialInputs","initialFormValidity","formState","inputData","formValidity","AuthContext","createContext","isLoggedIn","userId","token","login","logout","NewActivity","auth","useContext","_useForm","title","description","address","_useForm2","inputHandler","history","useHistory","activitySubmitHandler","formData","FormData","append","Authorization","console","log","MainHeader","NavLinks","NavLink","SideDrawer","ReactDom","MainNavigation","drawerIsOpen","setDrawerIsOpen","closeDrawerHandler","Map","mapRef","zoom","window","google","maps","Marker","position","ActivityItem","showMap","setShowMap","showConfirmModal","setShowConfirmModal","closeMapHandler","cancelDeleteHandler","confirmDeleteHandler","onDelete","coordinates","creatorId","ActivityList","place","creator","location","onDeleteActivity","UserActivity","loadedActivities","setLoadedActivities","useParams","fetchActivities","reponseData","onDeletedActivity","deletedActivityId","prevActivities","activity","UpdateActivity","activityId","setFormData","fetchActivity","activityUpdateSubmitHandler","_ref2","_callee2","_context2","JSON","stringify","Auth","isLoginMode","setIsLoginMode","email","password","authSubmitHandler","_responseData","t1","prevMode","App","routes","_useAuth","setToken","setUserId","tokenExpiration","setTokenExpiration","uid","expirationDate","tokenExpirationDate","Date","getTime","localStorage","setItem","expiration","toISOString","removeItem","remainingTime","setTimeout","clearTimeout","storedData","parse","getItem","useAuth","Switch","Route","path","Newactivity","Redirect","Provider","Router","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode"],"mappings":"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","file":"static/js/main.4ccd2476.chunk.js","sourcesContent":["import { useCallback, useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"../context/auth-context\";\r\n\r\nlet logoutTimer;\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState(null);\r\n  const [userId, setUserId] = useState({});\r\n  const [tokenExpiration, setTokenExpiration] = useState();\r\n  const auth = useContext(AuthContext)\r\n \r\n\r\n  const login = useCallback((uid, token, expirationDate) => {\r\n    setToken(token);\r\n    setUserId(uid);\r\n    const tokenExpirationDate = expirationDate || new Date(new Date().getTime() + 1000 * 60 *60);\r\n    setTokenExpiration(tokenExpirationDate);\r\n\r\n    localStorage.setItem('userData', JSON.stringify({userId: uid, token: token, expiration: tokenExpirationDate.toISOString() }))\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setUserId(null);\r\n    localStorage.removeItem('userData');\r\n    setTokenExpiration(null);\r\n    \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (token && tokenExpiration) {\r\n      const remainingTime = tokenExpiration.getTime() - new Date().getTime();\r\n      logoutTimer = setTimeout(logout, remainingTime);\r\n    }else{\r\n      clearTimeout(logoutTimer);\r\n    }\r\n  }, [token, logout, tokenExpiration])\r\n\r\n  useEffect(() => {\r\n    const storedData = JSON.parse(localStorage.getItem('userData'));\r\n    if (storedData && storedData.token && new Date(storedData.expiration) > new Date()) {\r\n      login(storedData.userId, storedData.token, new Date(storedData.expiration));\r\n    }\r\n  }, [login]);\r\n\r\n  return { token, login, logout, userId };\r\n};\r\n","import React from 'react';\n\nimport './Avatar.css';\n\nconst Avatar = props => {\n  return (\n    <div className={`avatar ${props.className}`} style={props.style}>\n      <img\n        src={props.image}\n        alt={props.alt}\n        style={{ width: props.width, height: props.width }}\n      />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport \"./UsersItem.css\"\r\nimport Avatar from '../../shared/components/UIElements/Avatar'\r\nimport Card from '../../shared/components/UIElements/Card'\r\n\r\nconst UsersItem = props => {\r\n    return (\r\n      <li className=\"user-item\">\r\n        <Card className=\"user-item__content users-page\">\r\n          <Link to={`/${props.id}/activities`}>\r\n            <div className=\"user-item__image\">\r\n              <Avatar image={process.env.REACT_APP_ASSET_URL + `/${props.image}`} alt={props.name} />\r\n            </div>\r\n            <div className=\"user-item__info\">\r\n              <h2>{props.name}</h2>\r\n              <h3>\r\n                {props.count} {props.count === 1 ? 'Event' : 'Events'}\r\n              </h3>\r\n            </div>\r\n          </Link>\r\n        </Card>\r\n      </li>\r\n\r\n    )\r\n\r\n\r\n};\r\n\r\nexport default UsersItem;","import React from 'react';\r\n\r\nimport \"./UsersList.css\"\r\nimport UsersItem from './UsersItem';\r\nimport Card from '../../shared/components/UIElements/Card';\r\n\r\nconst UsersList = props => {\r\n    if(props.items.length === 0){\r\n        return (\r\n            <div className='center'>\r\n                <Card>\r\n                    <h2>No users found.</h2>\r\n                </Card>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n    <ul className='users-list'>\r\n        {props.items.map(user=> (\r\n            <UsersItem \r\n                key={user.id} \r\n                id={user.id} \r\n                image={user.image} \r\n                name={user.name} \r\n                count={user.activities.length}\r\n            />\r\n        ))}\r\n    </ul>\r\n    );\r\n\r\n\r\n};\r\n\r\nexport default UsersList;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Backdrop.css';\n\nconst Backdrop = props => {\n  return ReactDOM.createPortal(\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\n    document.getElementById('backdrop-hook')\n  );\n};\n\nexport default Backdrop;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport Backdrop from './Backdrop';\r\nimport './Modal.css'\r\n\r\nconst ModalOverlay = props => {\r\n    const content = (\r\n        <div className={`modal ${props.className}`} style={props.style}>\r\n            <header className={`modal__header ${props.headerClass}`}>\r\n                <h2>{props.header}</h2>\r\n            </header>\r\n            <form onSubmit={props.onSubmit ? props.onSubmit : (event) => event.preventDefault()}>\r\n                <div className={`modal__content ${props.contentClass}`}>\r\n                    {props.children}\r\n                </div>\r\n                <footer className={`modal__footer ${props.footerClass}`}>\r\n                    {props.footer}\r\n                </footer>\r\n            </form>\r\n            \r\n        </div>\r\n    );\r\n\r\n    return ReactDOM.createPortal(content, document.getElementById('modal-hook'));\r\n};\r\n\r\nconst Modal = props => {\r\n    return(\r\n        <React.Fragment>\r\n            {props.show && <Backdrop onClick={props.onCancel}/>}\r\n            <CSSTransition in={props.show} mountOnEnter unmountOnExit timeout={200} classNames=\"modal\">\r\n                <ModalOverlay {...props}/>\r\n            </CSSTransition>\r\n        </React.Fragment>\r\n    )\r\n   \r\n\r\n};\r\n\r\nexport default Modal;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = props => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || 'default'} ${props.inverse &&\n        'button--inverse'} ${props.danger && 'button--danger'}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import { useState, useCallback, useRef, useEffect } from 'react';\r\n\r\nexport const useHttpClient = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  const activeHttpRequests = useRef([]);\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = 'GET', body = null, headers = {}) => {\r\n      setIsLoading(true);\r\n      const httpAbortCtrl = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrl);\r\n\r\n      try {\r\n        const response = await fetch(url, {\r\n          method,\r\n          body,\r\n          headers,\r\n          signal: httpAbortCtrl.signal\r\n        });\r\n\r\n        const responseData = await response.json();\r\n\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          reqCtrl => reqCtrl !== httpAbortCtrl\r\n        );\r\n\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message);\r\n        }\r\n\r\n        setIsLoading(false);\r\n        return responseData;\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setIsLoading(false);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\r\n    };\r\n  }, []);\r\n\r\n  return { isLoading, error, sendRequest, clearError };\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport UsersList from '../components/UsersList';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal'\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\n\r\nconst Users = () => {\r\n\r\n    const { isLoading, error, sendRequest, clearError} = useHttpClient();\r\n\r\n    const [loadedUsers, setLoadedUsers] = useState();\r\n\r\n    useEffect(() => {\r\n        const fetchUsers = async () => {\r\n            try {\r\n                const responseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + '/users');\r\n            \r\n                setLoadedUsers(responseData.users);\r\n\r\n            }catch(err){\r\n            };\r\n\r\n        };\r\n\r\n        fetchUsers();\r\n\r\n    }, [sendRequest]);\r\n\r\n\r\n    return (\r\n        <><ErrorModal error={error} onClear={clearError} />\r\n        {isLoading && (\r\n        <div className='center'>\r\n            <LoadingSpinner />\r\n        </div>)}\r\n\r\n        { !isLoading && loadedUsers && <UsersList items={loadedUsers} />}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Users;","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};\n","import React, { useReducer, useEffect } from 'react';\r\n\r\nimport { validate } from '../../util/validators';\r\nimport './Input.css';\r\n\r\nconst inputReducer = (state, action) => {\r\n    switch(action.type) {\r\n        case 'CHANGE':\r\n            return {\r\n                ...state,\r\n                value:action.val,\r\n                isValid: validate(action.val, action.validators)\r\n            };\r\n        case 'TOUCH':{\r\n            return {\r\n                ...state,\r\n                isTouched: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\n\r\nconst Input = props => {\r\n    const [inputState, dispatch] = useReducer(inputReducer, {\r\n        value:props.initialValue || '', \r\n        isValid:props.initialValid || false, \r\n        isTouched:false});\r\n    // currentstate, dispatch方法=（reducer方法，state初始值）\r\n\r\n    const {id, onInput } = props;\r\n    const {value, isValid } = inputState;\r\n\r\n    useEffect(() => {\r\n        onInput(id, value, isValid)\r\n    },[id, value, isValid, onInput]);\r\n\r\n    const changeHandler = event => {\r\n        dispatch({type:'CHANGE', val:event.target.value, validators:props.validators});\r\n\r\n    };\r\n\r\n    const touchHandler = () => {\r\n        dispatch({type:'TOUCH'});\r\n\r\n    };\r\n\r\n\r\n    const element = props.element === 'input' ? (\r\n        <input \r\n        id={props.id} \r\n        type={props.type} \r\n        placeholder={props.placeholder} \r\n        onChange={changeHandler} \r\n        onBlur={touchHandler} \r\n        value={inputState.value}/>\r\n      ) : (\r\n        <textarea \r\n        id={props.id} \r\n        rows={props.rows || 3} \r\n        onChange={changeHandler} \r\n        onBlur={touchHandler} \r\n        value={inputState.value}/>\r\n      );\r\n    \r\n    return (\r\n        <div className={`form-control ${!inputState.isValid && inputState.isTouched && 'form-control--invalid'}`}>\r\n          <label htmlFor={props.id}>{props.label}</label>\r\n          {element}\r\n          {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\r\n        </div>\r\n      );\r\n  \r\n};\r\n\r\nexport default Input;\r\n","import React, { useRef, useState, useEffect }  from 'react';\r\n\r\nimport './ImageUpload.css';\r\nimport Button from './Button';\r\n\r\nconst ImageUpload = props => {\r\n\r\n    const [file, setFile] = useState();\r\n    const [previewUrl, setPreviewUrl] = useState();\r\n    const [isValid, setIsValid] = useState(false);\r\n\r\n    const filePickerRef = useRef();\r\n\r\n    useEffect(() => {\r\n        if (!file) {\r\n          return;\r\n        }\r\n        const fileReader = new FileReader();\r\n        fileReader.onload = () => {\r\n          setPreviewUrl(fileReader.result);\r\n        };\r\n        fileReader.readAsDataURL(file);\r\n      }, [file]);\r\n\r\n    const pickedHandler = event => {\r\n        let pickedFile;\r\n        let fileIsValid = isValid;\r\n\r\n        if (event.target.files && event.target.files.length === 1) {\r\n            pickedFile = event.target.files[0];\r\n            setFile(pickedFile);\r\n            setIsValid(true);\r\n            fileIsValid = true;\r\n        } else {\r\n            setIsValid(false);\r\n            fileIsValid = false;\r\n        }\r\n        props.onInput(props.id, pickedFile, fileIsValid);\r\n  };\r\n\r\n    const pickImageHandler = () => {\r\n    filePickerRef.current.click();\r\n  };\r\n\r\n\r\n    return (\r\n        <div className=\"form-control\">\r\n      <input\r\n        id={props.id}\r\n        ref={filePickerRef}\r\n        style={{ display: 'none' }}\r\n        type=\"file\"\r\n        accept=\".jpg,.png,.jpeg\"\r\n        onChange={pickedHandler}\r\n      />\r\n      <div className={`image-upload ${props.center && 'center'}`}>\r\n        <div className=\"image-upload__preview\">\r\n          {previewUrl && <img src={previewUrl} alt=\"Preview\" />}\r\n          {!previewUrl && <p>Please pick an image.</p>}\r\n        </div>\r\n        <Button type=\"button\" onClick={pickImageHandler}>PICK IMAGE</Button>\r\n      </div>\r\n      {!isValid && <p>{props.errorText}</p>}\r\n    </div>\r\n    )\r\n\r\n\r\n};\r\n\r\nexport default ImageUpload","import { useCallback, useReducer } from \"react\";\r\n\r\nconst formReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case 'INPUT_CHANGE':\r\n        let formIsValid = true;\r\n        for (const inputId in state.inputs) {\r\n          if (!state.inputs[inputId]){\r\n            continue;\r\n          }\r\n          if (inputId === action.inputId) {\r\n            formIsValid = formIsValid && action.isValid;\r\n          } else {\r\n            formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n          }\r\n        }\r\n        return {\r\n          ...state,\r\n          inputs: {\r\n            ...state.inputs,\r\n            [action.inputId]: { value: action.value, isValid: action.isValid }\r\n          },\r\n          isValid: formIsValid\r\n        };\r\n        case 'SET_DATA':\r\n            return {\r\n              inputs: action.inputs,\r\n              isValid: action.formIsValid\r\n            };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n\r\n\r\nexport const useForm = (initialInputs, initialFormValidity) => {\r\n    const [formState, dispatch] = useReducer(formReducer, {\r\n        inputs: initialInputs,\r\n        isValid: initialFormValidity\r\n      });\r\n    \r\n    const inputHandler = useCallback((id, value, isValid) => {\r\n        dispatch({\r\n          type: 'INPUT_CHANGE',\r\n          value: value,\r\n          isValid: isValid,\r\n          inputId: id\r\n        });\r\n      }, []);\r\n\r\n      const setFormData = useCallback((inputData, formValidity) => {\r\n        dispatch({\r\n            type: 'SET_DATA',\r\n            inputs: inputData,\r\n            formIsValid: formValidity\r\n        });\r\n      }, []); \r\n    \r\n      return [formState, inputHandler, setFormData];\r\n\r\n};\r\n\r\n\r\n","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext({\r\nisLoggedIn: false,\r\n    userId: null,\r\n    token: null,\r\n    login: () => {},\r\n    logout: () => {}\r\n});\r\n\r\n  ","import React, { useCallback, useReducer, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\nimport './Placeform.css'\r\nimport Input from '../../shared/components/FormElements/Input';\r\nimport { VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE } from '../../shared/util/validators';\r\nimport Button from '../../shared/components/FormElements/Button';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport ImageUpload from '../../shared/components/FormElements/ImageUpload';\r\n\r\nimport { useForm } from '../../shared/hooks/form-hook';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\nimport { AuthContext } from '../../shared/context/auth-context'; \r\n\r\n\r\n\r\nconst NewActivity = () => {\r\n  const { isLoading, error, sendRequest, clearError} = useHttpClient();\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [formState, inputHandler] = useForm(\r\n      {\r\n        title: {\r\n          value: '',\r\n          isValid: false\r\n        },\r\n        description: {\r\n          value: '',\r\n          isValid: false\r\n        },\r\n        address: {\r\n          value: '',\r\n          isValid: false\r\n        },\r\n        image: {\r\n          value: null,\r\n          isValid: false\r\n        }\r\n      },\r\n      false\r\n    );\r\n   const history = useHistory();\r\n\r\n    const activitySubmitHandler = async event => {\r\n      event.preventDefault();\r\n\r\n      try {\r\n          const formData = new FormData();\r\n            formData.append('title', formState.inputs.title.value);\r\n            formData.append('description', formState.inputs.description.value);\r\n            formData.append('address', formState.inputs.address.value);\r\n            formData.append('image', formState.inputs.image.value);\r\n          await sendRequest(process.env.REACT_APP_BACKEND_URL + '/activities', \r\n          'POST', \r\n          formData,\r\n          {Authorization: 'Bearer ' + auth.token}\r\n          );\r\n      history.push('/');\r\n\r\n      }catch(err){};\r\n    };\r\n\r\n    const print = () => {\r\n      console.log(auth.userId)\r\n    }\r\n  \r\n    return (\r\n      <><ErrorModal error={error} onClear={clearError} />\r\n      <form className=\"place-form\" onSubmit={activitySubmitHandler}>\r\n      {isLoading && <LoadingSpinner asOverlay />}\r\n        <Input\r\n          id=\"title\"\r\n          element=\"input\"\r\n          type=\"text\"\r\n          label=\"Title\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please enter a valid title.\"\r\n          onInput={inputHandler} />\r\n        <Input\r\n          id=\"description\"\r\n          element=\"textarea\"\r\n          label=\"Description\"\r\n          validators={[VALIDATOR_MINLENGTH(5)]}\r\n          errorText=\"Please enter a valid description (at least 5 characters).\"\r\n          onInput={inputHandler} />\r\n        <Input\r\n          id=\"address\"\r\n          element=\"input\"\r\n          label=\"Address\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please enter a valid address.\"\r\n          onInput={inputHandler} />\r\n         <ImageUpload center id=\"image\" onInput={inputHandler} errorText='Please provide an image.'/>\r\n        <Button type=\"submit\" onClick = {print} disabled={!formState.isValid}>\r\n          ADD ACTIVITY\r\n        </Button>\r\n      </form></>\r\n    );\r\n  };\r\n\r\nexport default NewActivity;","import React from 'react';\r\n\r\nimport './MainHeader.css';\r\n\r\nconst MainHeader = props => {\r\n    return (\r\n        <header className='main-header'>\r\n        {props.children}\r\n        </header>\r\n    );;\r\n};\r\n\r\nexport default MainHeader;","import React, { useContext }from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { AuthContext } from '../../context/auth-context';\r\nimport './NavLinks.css'\r\n\r\nconst NavLinks = props => {\r\n    const auth = useContext(AuthContext);\r\n\r\n    return <ul className='nav-links'>\r\n        <li>\r\n            <NavLink to='/' exact>ALL USERS</NavLink>\r\n        </li>\r\n        {auth.isLoggedIn && <li>\r\n            <NavLink to={`/${auth.userId}/activities`} >MY EVENTS</NavLink>\r\n        </li>}\r\n        {auth.isLoggedIn && <li>\r\n            <NavLink to='/activities/new'>NEW EVENT</NavLink>\r\n        </li>}\r\n        {!auth.isLoggedIn && <li>\r\n            <NavLink to='/auth'>AUTHENTICATE</NavLink>\r\n        </li>}\r\n        {auth.isLoggedIn && \r\n        <li>\r\n            <button onClick={auth.logout}>LOGOUT</button>\r\n        </li>}\r\n    </ul>\r\n\r\n};\r\n\r\nexport default NavLinks;","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group'\r\n\r\nimport './SideDrawer.css'\r\n\r\nconst SideDrawer = props => {\r\n    const content = (\r\n    <CSSTransition in={props.show} timeout={200} classNames='slide-in-left' mountOnEnter unmountOnExit>\r\n        <aside className='side-drawer' onClick={props.onClick}>{props.children}</aside>\r\n    </CSSTransition>);\r\n\r\n    return ReactDom.createPortal(content, document.getElementById('drawer-hook'));\r\n\r\n};\r\n\r\nexport default SideDrawer;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport MainHeader from './MainHeader';\r\nimport NavLinks from './NavLinks';\r\nimport SideDrawer from './SideDrawer';\r\nimport Backdrop from '../UIElements/Backdrop';\r\n\r\nimport './MainNavigation.css';\r\n\r\nconst MainNavigation = props => {\r\n    const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n\r\n    const openDrawerHandler = () => {\r\n        setDrawerIsOpen(true);\r\n    };\r\n\r\n    const closeDrawerHandler = () => {\r\n        setDrawerIsOpen(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n        {drawerIsOpen && <Backdrop onClick={closeDrawerHandler} />}\r\n            <SideDrawer show={drawerIsOpen} onClick={closeDrawerHandler}>\r\n                <nav className='main-navigation__drawer-nav'>\r\n                    <NavLinks />\r\n                </nav>\r\n            </SideDrawer>\r\n        <MainHeader>\r\n                <button className='main-navigation__main-btn' onClick={openDrawerHandler}>\r\n                    <span />\r\n                    <span />\r\n                    <span />\r\n                </button>\r\n                <h1 className='main-navigation__title'>\r\n                    <Link to='/'>Your Event Management</Link>\r\n                </h1>\r\n                <nav className='main-navigation__header-nav'>\r\n                    <NavLinks />\r\n                </nav>\r\n        </MainHeader></>\r\n        \r\n    );;\r\n};\r\n\r\nexport default MainNavigation;","import React, { useRef, useEffect } from 'react';\r\n\r\nimport './Map.css';\r\n\r\nconst Map = props => {\r\n  const mapRef = useRef();\r\n  \r\n  const { center, zoom } = props;\r\n\r\n  useEffect(() => {\r\n    const map = new window.google.maps.Map(mapRef.current, {\r\n      center: center,\r\n      zoom: zoom\r\n    });\r\n  \r\n    new window.google.maps.Marker({ position: center, map: map });\r\n  }, [center, zoom]);  \r\n\r\n  return (\r\n    <div\r\n      ref={mapRef}\r\n      className={`map ${props.className}`}\r\n      style={props.style}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import React, { useState, useContext } from 'react';\r\n\r\nimport './ActivityItem.css'\r\nimport Card from '../../shared/components/UIElements/Card';\r\nimport Button from '../../shared/components/FormElements/Button';\r\nimport Modal from '../../shared/components/UIElements/Modal';\r\nimport Map from '../../shared/components/UIElements/Map';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\n\r\n\r\nconst ActivityItem = props => {\r\n  const auth = useContext(AuthContext);\r\n  const { isLoading, error, sendRequest, clearError} = useHttpClient();\r\n  const [showMap, setShowMap] = useState(false);\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n\r\n  const openMapHandler = () => setShowMap(true);\r\n  const closeMapHandler = () => setShowMap(false);\r\n\r\n  const showDeleteWarningHandler = () => {\r\n        setShowConfirmModal(true);\r\n      };\r\n    \r\n  const cancelDeleteHandler = () => {\r\n        setShowConfirmModal(false);\r\n      };\r\n    \r\n    const confirmDeleteHandler = async () => {\r\n        setShowConfirmModal(false);\r\n        try {\r\n          await sendRequest(process.env.REACT_APP_BACKEND_URL +`/activities/${props.id}`,\r\n          'DELETE',\r\n          null,\r\n          {Authorization: 'Bearer ' + auth.token}\r\n          );\r\n          props.onDelete(props.id);\r\n\r\n        }catch(err) {};\r\n        \r\n    }\r\n    \r\n\r\n    return (\r\n        <>\r\n        <ErrorModal error={error} onClear={clearError} />\r\n        <Modal \r\n        show={showMap} \r\n        onCancel={closeMapHandler} \r\n        header={props.address} \r\n        contentClass='place-item__modal-content' \r\n        footerClass='place-item__modal-actions' \r\n        footer={<Button onClick={closeMapHandler}>CLOSE</Button>} >\r\n            <div className='map-container'>\r\n                <Map center={props.coordinates} zoom={16} />\r\n            </div>\r\n        </Modal>\r\n        <Modal\r\n        show={showConfirmModal}\r\n        onCancel={cancelDeleteHandler}\r\n        header=\"Are you sure?\"\r\n        footerClass=\"place-item__modal-actions\"\r\n        footer={\r\n          <React.Fragment>\r\n            <Button inverse onClick={cancelDeleteHandler}>\r\n              CANCEL\r\n            </Button>\r\n            <Button danger onClick={confirmDeleteHandler}>\r\n              DELETE\r\n            </Button>\r\n          </React.Fragment>\r\n        }\r\n      >\r\n        <p>\r\n          Do you want to proceed and delete this place? Please note that it\r\n          can't be undone thereafter.\r\n        </p>\r\n      </Modal>\r\n        <li className=\"place-item\">\r\n            <Card className=\"place-item__content\">\r\n            {isLoading && <LoadingSpinner asOverlay />}\r\n                <div className=\"place-item__image\">\r\n                    <img \r\n                    src={process.env.REACT_APP_ASSET_URL +`/${props.image}`} \r\n                    alt={props.title} \r\n                    />\r\n                </div>\r\n                <div className=\"place-item__info\">\r\n                    <h2>{props.title}</h2>\r\n                    <h3>{props.address}</h3>\r\n                    <p>{props.description}</p>\r\n                </div>\r\n                <div className=\"place-item__actions\">\r\n                    <Button inverse onClick={openMapHandler}>VIEW ON MAP</Button>\r\n                    {auth.userId === props.creatorId &&<Button to={`/activities/${props.id}`}>EDIT</Button>}\r\n                    {auth.userId === props.creatorId &&<Button danger onClick={showDeleteWarningHandler}>DELETE</Button>}\r\n                </div>\r\n            </Card>\r\n        </li></>\r\n      );\r\n\r\n};\r\n\r\nexport default ActivityItem;","import React from 'react';\r\n\r\nimport Card from '../../shared/components/UIElements/Card';\r\nimport ActivityItem from './ActivityItem';\r\nimport Button from '../../shared/components/FormElements/Button';\r\nimport './ActivityList.css'\r\n\r\nconst ActivityList = props => {\r\n    if (props.items.length === 0) {\r\n      return (\r\n        <div className=\"place-list center\">\r\n          <Card>\r\n            <h2>No activities found. Maybe create one?</h2>\r\n            <Button to='/activities/new'>Add activity</Button>\r\n          </Card>\r\n        </div>\r\n      );\r\n    };\r\n  \r\n    return (\r\n      <ul className=\"place-list\">\r\n        {props.items.map(place => (\r\n          <ActivityItem\r\n            key={place.id}\r\n            id={place.id}\r\n            image={place.image}\r\n            title={place.title}\r\n            description={place.description}\r\n            address={place.address}\r\n            creatorId={place.creator}\r\n            coordinates={place.location}\r\n            onDelete={props.onDeleteActivity}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  };\r\n\r\nexport default ActivityList;","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport ActivityList from '../components/ActivityList';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\nimport { AuthContext } from '../../shared/context/auth-context'; \nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\n\n\nconst UserActivity = () => {\n  const { isLoading, error, sendRequest, clearError} = useHttpClient();\n  const [loadedActivities, setLoadedActivities] = useState();\n\n  const userId = useParams().userId;\n\n  useEffect( () => {\n    const fetchActivities = async () => {\n      try {\n        const reponseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + `\\/activities/user/${userId}`);\n\n        setLoadedActivities(reponseData.activities);\n\n      }catch(err) {};\n\n    }\n    \n    fetchActivities();\n\n  }, [sendRequest, userId]);\n\n  const activityDeleteHandler = deletedActivityId => {\n    setLoadedActivities(prevActivities => \n      prevActivities.filter(activity => activity.id !== deletedActivityId));\n  };\n\n  return( \n    <><ErrorModal error={error} onClear={clearError} />\n    {isLoading && (\n        <div className=\"center\">\n          <LoadingSpinner />\n        </div>\n      )}\n    {!isLoading && loadedActivities && <ActivityList items={loadedActivities} onDeletedActivity={activityDeleteHandler} />}\n    </>\n  );\n};\n\nexport default UserActivity;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport Input from '../../shared/components/FormElements/Input';\nimport Button from '../../shared/components/FormElements/Button';\nimport Card from '../../shared/components/UIElements/Card';\nimport {\n  VALIDATOR_REQUIRE,\n  VALIDATOR_MINLENGTH\n} from '../../shared/util/validators';\nimport { useForm } from '../../shared/hooks/form-hook';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\nimport './Placeform.css';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport { AuthContext } from '../../shared/context/auth-context';\n\n\nconst UpdateActivity = () => {\n  const auth = useContext(AuthContext);\n  const history = useHistory();\n  const { isLoading, error, sendRequest, clearError} = useHttpClient();\n\n  const [loadedActivities, setLoadedActivities] = useState();\n\n  const activityId = useParams().activityId;\n\n  const [formState, inputHandler, setFormData] = useForm(\n    {\n      title: {\n        value: '',\n        isValid: false\n      },\n      description: {\n        value: '',\n        isValid: false\n      }\n    },\n    false\n  );\n\n  useEffect( () => {\n    const fetchActivity = async () => {\n      try {\n        const reponseData = await sendRequest(process.env.REACT_APP_BACKEND_URL +`/activities/${activityId}`,\n        );\n\n        setLoadedActivities(reponseData.activity);\n        setFormData(\n              {\n                title: {\n                  value: reponseData.activity.title,\n                  isValid: true\n                },\n                description: {\n                  value: reponseData.activity.description,\n                  isValid: true\n                }\n              },\n              true\n        );\n\n\n      }catch(err) {};\n      \n    }\n    \n    fetchActivity();\n\n  }, [sendRequest, activityId, setFormData]);\n\n\n  const activityUpdateSubmitHandler = async event => {\n    event.preventDefault();\n\n    try {\n      await sendRequest(\n        process.env.REACT_APP_BACKEND_URL +`/activities/${activityId}`,\n        'PATCH',\n        JSON.stringify({\n          title: formState.inputs.title.value,\n          description: formState.inputs.description.value\n        }),\n        {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + auth.token\n        }\n      );\n      history.push('/' + auth.userId + '/activities');\n    } catch (err) {}\n\n  };\n\n  if (!loadedActivities) {\n    return (\n      <div className=\"center\">\n        <Card>\n          <h2>Could not find event!</h2>\n        </Card>\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"center\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  return (\n    <>\n    <ErrorModal error={error} onClear={clearError} />\n      {!isLoading && loadedActivities && (\n      <form className=\"place-form\" onSubmit={activityUpdateSubmitHandler}>\n        <Input\n          id=\"title\"\n          element=\"input\"\n          type=\"text\"\n          label=\"Title\"\n          validators={[VALIDATOR_REQUIRE()]}\n          errorText=\"Please enter a valid title.\"\n          onInput={inputHandler}\n          initialValue={loadedActivities.title}\n          initialValid={true}\n        />\n        <Input\n          id=\"description\"\n          element=\"textarea\"\n          label=\"Description\"\n          validators={[VALIDATOR_MINLENGTH(5)]}\n          errorText=\"Please enter a valid description (min. 5 characters).\"\n          onInput={inputHandler}\n          initialValue={loadedActivities.description}\n          initialValid={true}\n        />\n        <Button type=\"submit\" disabled={!formState.isValid}>\n          UPDATE EVENT\n        </Button>\n      </form>\n      )};\n  </>\n  );\n\n};\n\nexport default UpdateActivity;\n","import React, { useState, useContext } from 'react';\r\n\r\nimport './Auth.css'\r\nimport Card from '../../shared/components/UIElements/Card';\r\nimport Button from '../../shared/components/FormElements/Button';\r\nimport Input from '../../shared/components/FormElements/Input';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal'\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport ImageUpload from '../../shared/components/FormElements/ImageUpload';\r\nimport {\r\n    VALIDATOR_EMAIL,\r\n    VALIDATOR_MINLENGTH,\r\n    VALIDATOR_REQUIRE\r\n  } from '../../shared/util/validators';\r\nimport { useForm } from '../../shared/hooks/form-hook';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\n\r\n\r\nconst Auth = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [isLoginMode, setIsLoginMode] = useState(true);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const [formState, inputHandler, setFormData] = useForm(\r\n        {\r\n          email: {\r\n            value: '',\r\n            isValid: false\r\n          },\r\n          password: {\r\n            value: '',\r\n            isValid: false\r\n          }\r\n        },\r\n        false\r\n      );\r\n    \r\n    const switchModeHandler = () => {\r\n        if (!isLoginMode) {\r\n          setFormData(\r\n            {\r\n              ...formState.inputs,\r\n              name: undefined,\r\n              image: undefined\r\n            },\r\n            formState.inputs.email.isValid && formState.inputs.password.isValid\r\n          );\r\n        } else {\r\n          setFormData(\r\n            {\r\n              ...formState.inputs,\r\n              name: {\r\n                value: '',\r\n                isValid: false\r\n              },\r\n              image: {\r\n                value: null,\r\n                isValid: false\r\n              }\r\n            },\r\n            false\r\n          );\r\n        }\r\n        setIsLoginMode(prevMode => !prevMode);\r\n      };\r\n\r\n    const authSubmitHandler = async event => {\r\n        event.preventDefault();\r\n\r\n        if (isLoginMode) {\r\n          try {\r\n            const responseData = await sendRequest(\r\n              process.env.REACT_APP_BACKEND_URL +'/users/login', \r\n              'POST',\r\n            JSON.stringify({\r\n              email: formState.inputs.email.value,\r\n              password: formState.inputs.password.value\r\n            }),\r\n             {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            );\r\n            auth.login(responseData.userId, responseData.token);\r\n          }catch (err) {}  \r\n        }else{\r\n          try{\r\n            const formData = new FormData();\r\n            formData.append('email', formState.inputs.email.value);\r\n            formData.append('name', formState.inputs.name.value);\r\n            formData.append('password', formState.inputs.password.value);\r\n            formData.append('image', formState.inputs.image.value);\r\n            const responseData = await sendRequest(\r\n              process.env.REACT_APP_BACKEND_URL +'/users/signup', \r\n              'POST',\r\n              formData\r\n            );\r\n            \r\n            auth.login(responseData.userId, responseData.token);\r\n          }catch(err) {}\r\n      }  \r\n    };\r\n    \r\n  return (\r\n    <>\r\n    <ErrorModal error={error} onClear={clearError} />\r\n    <Card className=\"authentication\">\r\n    {isLoading && <LoadingSpinner asOverlay />}\r\n      <h2>Login Required</h2>\r\n      <hr />\r\n      <form onSubmit={authSubmitHandler}>\r\n        {!isLoginMode && (\r\n          <Input\r\n            element=\"input\"\r\n            id=\"name\"\r\n            type=\"text\"\r\n            label=\"Your Name\"\r\n            validators={[VALIDATOR_REQUIRE()]}\r\n            errorText=\"Please enter a name.\"\r\n            onInput={inputHandler} />\r\n        )}\r\n        <Input\r\n          element=\"input\"\r\n          id=\"email\"\r\n          type=\"email\"\r\n          label=\"E-Mail\"\r\n          validators={[VALIDATOR_EMAIL()]}\r\n          errorText=\"Please enter a valid email address.\"\r\n          onInput={inputHandler} />\r\n        <Input\r\n          element=\"input\"\r\n          id=\"password\"\r\n          type=\"password\"\r\n          label=\"Password\"\r\n          validators={[VALIDATOR_MINLENGTH(6)]}\r\n          errorText=\"Please enter a valid password, at least 6 characters.\"\r\n          onInput={inputHandler} />\r\n        {!isLoginMode && <ImageUpload center id=\"image\" onInput={inputHandler} errorText='Please provide an image.'/>}\r\n        <Button type=\"submit\" disabled={!formState.isValid}>\r\n          {isLoginMode ? 'LOGIN' : 'SIGNUP'}\r\n        </Button>\r\n      </form>\r\n      <Button inverse onClick={switchModeHandler}>\r\n        SWITCH TO {isLoginMode ? 'SIGNUP' : 'LOGIN'}\r\n      </Button>\r\n    </Card></>\r\n   )\r\n\r\n};\r\n\r\nexport default Auth;","import React from \"react\";\nimport { BrowserRouter as Router, Route, Redirect, Switch} from 'react-router-dom';\n\nimport Users from './user/pages/Users';\nimport Newactivity from './activities/pages/NewActivity';\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport UserActivity from \"./activities/pages/UserActivity\";\nimport UpdateActivity from \"./activities/pages/UpdateActivity\";\nimport Auth from \"./user/pages/Auth\";\nimport { AuthContext } from \"./shared/context/auth-context\";\nimport { useAuth } from \"./shared/hooks/auth-hook\";\n\n\nconst App = () => {\n\n  const { token, login, logout, userId } = useAuth();\n\n\n  let routes;\n\n  if (token) {\n    routes = (\n      <Switch>\n      <Route path=\"/\" exact>\n        <Users />\n      </Route>\n      <Route path='/:userId/activities' exact>\n          <UserActivity />\n        </Route>\n      <Route path=\"/activities/new\" exact>\n          <Newactivity />\n      </Route> \n      <Route path='/activities/:activityId'>\n          <UpdateActivity />\n      </Route>\n        <Redirect to='/'/>\n      </Switch>\n    );\n  }else{\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n        <Users />\n      </Route>\n      <Route path='/:userId/activities' exact>\n          <UserActivity />\n        </Route>\n        <Route path='/auth'>\n          <Auth />\n        </Route>\n        <Redirect to='/auth'/>\n        </Switch>\n    );\n  };\n\n  return (\n  <AuthContext.Provider \n  value={{\n    isLoggedIn: !!token,\n    token,\n    userId,\n    login,\n    logout\n    }}>\n  <Router>\n    <MainNavigation />\n    <main>\n        {routes}\n    </main>\n    \n  </Router>\n  </AuthContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}