{"ast":null,"code":"import React from\"react\";import{BrowserRouter as Router,Route,Redirect,Switch}from'react-router-dom';import Users from'./user/pages/Users';import Newactivity from'./activities/pages/NewActivity';import MainNavigation from\"./shared/components/Navigation/MainNavigation\";import UserActivity from\"./activities/pages/UserActivity\";import UpdateActivity from\"./activities/pages/UpdateActivity\";import Auth from\"./user/pages/Auth\";import{AuthContext}from\"./shared/context/auth-context\";import{useAuth}from\"./shared/hooks/auth-hook\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useAuth=useAuth(),token=_useAuth.token,login=_useAuth.login,logout=_useAuth.logout,userId=_useAuth.userId;var routes;if(token){routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:userId/activities\",exact:true,children:/*#__PURE__*/_jsx(UserActivity,{})}),/*#__PURE__*/_jsx(Route,{path:\"/activities/new\",exact:true,children:/*#__PURE__*/_jsx(Newactivity,{})}),/*#__PURE__*/_jsx(Route,{path:\"/activities/:activityId\",children:/*#__PURE__*/_jsx(UpdateActivity,{})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]});}else{routes=/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"/:userId/activities\",exact:true,children:/*#__PURE__*/_jsx(UserActivity,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",children:/*#__PURE__*/_jsx(Auth,{})}),/*#__PURE__*/_jsx(Redirect,{to:\"/auth\"})]});};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{isLoggedIn:!!token,token:token,userId:userId,login:login,logout:logout},children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(MainNavigation,{}),/*#__PURE__*/_jsx(\"main\",{children:routes})]})});};export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Route","Redirect","Switch","Users","Newactivity","MainNavigation","UserActivity","UpdateActivity","Auth","AuthContext","useAuth","jsx","_jsx","jsxs","_jsxs","App","_useAuth","token","login","logout","userId","routes","children","path","exact","to","Provider","value","isLoggedIn"],"sources":["/Users/sylviazhang/Documents/software-development/projects/MERN/mern-frontend/src/App.js"],"sourcesContent":["import React from \"react\";\nimport { BrowserRouter as Router, Route, Redirect, Switch} from 'react-router-dom';\n\nimport Users from './user/pages/Users';\nimport Newactivity from './activities/pages/NewActivity';\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport UserActivity from \"./activities/pages/UserActivity\";\nimport UpdateActivity from \"./activities/pages/UpdateActivity\";\nimport Auth from \"./user/pages/Auth\";\nimport { AuthContext } from \"./shared/context/auth-context\";\nimport { useAuth } from \"./shared/hooks/auth-hook\";\n\n\nconst App = () => {\n\n  const { token, login, logout, userId } = useAuth();\n\n\n  let routes;\n\n  if (token) {\n    routes = (\n      <Switch>\n      <Route path=\"/\" exact>\n        <Users />\n      </Route>\n      <Route path='/:userId/activities' exact>\n          <UserActivity />\n        </Route>\n      <Route path=\"/activities/new\" exact>\n          <Newactivity />\n      </Route> \n      <Route path='/activities/:activityId'>\n          <UpdateActivity />\n      </Route>\n        <Redirect to='/'/>\n      </Switch>\n    );\n  }else{\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n        <Users />\n      </Route>\n      <Route path='/:userId/activities' exact>\n          <UserActivity />\n        </Route>\n        <Route path='/auth'>\n          <Auth />\n        </Route>\n        <Redirect to='/auth'/>\n        </Switch>\n    );\n  };\n\n  return (\n  <AuthContext.Provider \n  value={{\n    isLoggedIn: !!token,\n    token,\n    userId,\n    login,\n    logout\n    }}>\n  <Router>\n    <MainNavigation />\n    <main>\n        {routes}\n    </main>\n    \n  </Router>\n  </AuthContext.Provider>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}