{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sylviazhang/Documents/software-development/projects/MERN/mern-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sylviazhang/Documents/software-development/projects/MERN/mern-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sylviazhang/Documents/software-development/projects/MERN/mern-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import UsersList from'../components/UsersList';import ErrorModal from'../../shared/components/UIElements/ErrorModal';import LoadingSpinner from'../../shared/components/UIElements/LoadingSpinner';import{useHttpClient}from'../../shared/hooks/http-hook';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Users=function Users(){var _useHttpClient=useHttpClient(),isLoading=_useHttpClient.isLoading,error=_useHttpClient.error,sendRequest=_useHttpClient.sendRequest,clearError=_useHttpClient.clearError;var _useState=useState(),_useState2=_slicedToArray(_useState,2),loadedUsers=_useState2[0],setLoadedUsers=_useState2[1];useEffect(function(){var fetchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var responseData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return sendRequest(process.env.REACT_APP_BACKEND_URL+'/users');case 3:responseData=_context.sent;setLoadedUsers(responseData.users);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:;case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchUsers(){return _ref.apply(this,arguments);};}();fetchUsers();},[sendRequest]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ErrorModal,{error:error,onClear:clearError}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})}),!isLoading&&loadedUsers&&/*#__PURE__*/_jsx(UsersList,{items:loadedUsers})]});};export default Users;","map":{"version":3,"names":["React","useEffect","useState","UsersList","ErrorModal","LoadingSpinner","useHttpClient","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Users","_useHttpClient","isLoading","error","sendRequest","clearError","_useState","_useState2","_slicedToArray","loadedUsers","setLoadedUsers","fetchUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","responseData","wrap","_callee$","_context","prev","next","process","env","REACT_APP_BACKEND_URL","sent","users","t0","stop","apply","arguments","children","onClear","className","items"],"sources":["/Users/sylviazhang/Documents/software-development/projects/MERN/mern-frontend/src/user/pages/Users.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport UsersList from '../components/UsersList';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal'\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\n\r\nconst Users = () => {\r\n\r\n    const { isLoading, error, sendRequest, clearError} = useHttpClient();\r\n\r\n    const [loadedUsers, setLoadedUsers] = useState();\r\n\r\n    useEffect(() => {\r\n        const fetchUsers = async () => {\r\n            try {\r\n                const responseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + '/users');\r\n            \r\n                setLoadedUsers(responseData.users);\r\n\r\n            }catch(err){\r\n            };\r\n\r\n        };\r\n\r\n        fetchUsers();\r\n\r\n    }, [sendRequest]);\r\n\r\n\r\n    return (\r\n        <><ErrorModal error={error} onClear={clearError} />\r\n        {isLoading && (\r\n        <div className='center'>\r\n            <LoadingSpinner />\r\n        </div>)}\r\n\r\n        { !isLoading && loadedUsers && <UsersList items={loadedUsers} />}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Users;"],"mappings":"yfAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,UAAU,KAAM,+CAA+C,CACtE,MAAO,CAAAC,cAAc,KAAM,mDAAmD,CAC9E,OAASC,aAAa,KAAQ,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7D,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAEhB,IAAAC,cAAA,CAAqDR,aAAa,CAAC,CAAC,CAA5DS,SAAS,CAAAD,cAAA,CAATC,SAAS,CAAEC,KAAK,CAAAF,cAAA,CAALE,KAAK,CAAEC,WAAW,CAAAH,cAAA,CAAXG,WAAW,CAAEC,UAAU,CAAAJ,cAAA,CAAVI,UAAU,CAEjD,IAAAC,SAAA,CAAsCjB,QAAQ,CAAC,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAElCnB,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAuB,UAAU,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,YAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEgB,CAAAlB,WAAW,CAACmB,OAAO,CAACC,GAAG,CAACC,qBAAqB,CAAG,QAAQ,CAAC,QAA9ER,YAAY,CAAAG,QAAA,CAAAM,IAAA,CAElBhB,cAAc,CAACO,YAAY,CAACU,KAAK,CAAC,CAACP,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAQ,EAAA,CAAAR,QAAA,oBAGtC,CAAC,yBAAAA,QAAA,CAAAS,IAAA,MAAAb,OAAA,gBAEL,kBATK,CAAAL,UAAUA,CAAA,SAAAC,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OASf,CAEDpB,UAAU,CAAC,CAAC,CAEhB,CAAC,CAAE,CAACP,WAAW,CAAC,CAAC,CAGjB,mBACIL,KAAA,CAAAF,SAAA,EAAAmC,QAAA,eAAErC,IAAA,CAACJ,UAAU,EAACY,KAAK,CAAEA,KAAM,CAAC8B,OAAO,CAAE5B,UAAW,CAAE,CAAC,CAClDH,SAAS,eACVP,IAAA,QAAKuC,SAAS,CAAC,QAAQ,CAAAF,QAAA,cACnBrC,IAAA,CAACH,cAAc,GAAE,CAAC,CACjB,CAAE,CAEL,CAACU,SAAS,EAAIO,WAAW,eAAId,IAAA,CAACL,SAAS,EAAC6C,KAAK,CAAE1B,WAAY,CAAE,CAAC,EAC9D,CAAC,CAEX,CAAC,CAED,cAAe,CAAAT,KAAK"},"metadata":{},"sourceType":"module"}